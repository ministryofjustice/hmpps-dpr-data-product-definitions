{
  "id": "kliHLRoAANsubdkA6f8AISgXYiw",
  "name": "ORS Language and Numeracy Skills",
  "description": "This report returns all prisoners on the prison roll and shows the level of English reading, writing, speaking and numeracy skills. Skill levels for any listed secondary languages are also displayed.<br/>PDD0039 -v00.00.04 Last Modified: 24/01/17",
  "metadata": {
    "version": "1.0.0",
    "tags": [
      "PDD0039 v00.00.03"
    ]
  },
  "datasource": [
    {
      "id": "nomis",
      "name": "NOMIS",
      "database": "DIGITAL_PRISON_REPORTING",
      "catalog": "nomis"
    }
  ],
  "dataset": [
    {
      "id": "3377299/DP3",
      "name": "Prisoners",
      "description": "Demographic",
      "datasource": "nomis",
      "query": "dataset_base_ AS (SELECT AT_OFFENDER.OFFENDER_ID_DISPLAY, AT_OFFENDER.LAST_NAME, AT_OFFENDER.FIRST_NAME, AT_NATIONALITY.DESCRIPTION, AT_OFFENDER_LANG.LANGUAGE_CODE, AT_LANG_CODE.DESCRIPTION AS LANGUAGE, CASE WHEN AT_OFFENDER_LANG.READ_SKILL = 'A' THEN 'Average' WHEN AT_OFFENDER_LANG.READ_SKILL = 'P' THEN 'Poor' WHEN AT_OFFENDER_LANG.READ_SKILL = 'G' THEN 'Good' WHEN AT_OFFENDER_LANG.READ_SKILL = 'D' THEN 'Dyslexia' WHEN AT_OFFENDER_LANG.READ_SKILL = 'N' THEN 'Nil' WHEN AT_OFFENDER_LANG.READ_SKILL = 'R' THEN 'Refused' ELSE AT_OFFENDER_LANG.READ_SKILL END AS READ_SKILL, CASE WHEN AT_OFFENDER_LANG.SPEAK_SKILL = 'A' THEN 'Average' WHEN AT_OFFENDER_LANG.Speak_SKILL = 'P' THEN 'Poor' WHEN AT_OFFENDER_LANG.speak_SKILL = 'G' THEN 'Good' WHEN AT_OFFENDER_LANG.speak_SKILL = 'D' THEN 'Dyslexia' WHEN AT_OFFENDER_LANG.speak_SKILL = 'N' THEN 'Nil' WHEN AT_OFFENDER_LANG.speak_SKILL = 'R' THEN 'Refused' ELSE AT_OFFENDER_LANG.SPEAK_SKILL END AS SPEAK_SKILL, CASE WHEN AT_OFFENDER_LANG.WRITE_SKILL = 'A' THEN 'Average' WHEN AT_OFFENDER_LANG.WRITE_SKILL = 'P' THEN 'Poor' WHEN AT_OFFENDER_LANG.WRITE_SKILL = 'G' THEN 'Good' WHEN AT_OFFENDER_LANG.WRITE_SKILL = 'D' THEN 'Dyslexia' WHEN AT_OFFENDER_LANG.WRITE_SKILL = 'N' THEN 'Nil' WHEN AT_OFFENDER_LANG.WRITE_SKILL = 'R' THEN 'Refused' ELSE AT_OFFENDER_LANG.WRITE_SKILL END AS WRITE_SKILL, CASE WHEN AT_OFFENDER_LANG.LANGUAGE_TYPE = 'PRIM' THEN 'English Comprehension' WHEN AT_OFFENDER_LANG.LANGUAGE_TYPE = 'PREF_SPEAK' THEN 'Preferred Spoken Language' WHEN AT_OFFENDER_LANG.LANGUAGE_TYPE = 'PREF_WRITE' THEN 'Preferred Written Language' WHEN AT_OFFENDER_LANG.LANGUAGE_TYPE = 'SEC' THEN 'Secondary' ELSE AT_OFFENDER_LANG.LANGUAGE_TYPE END AS LANGUAGE_TYPE, AT_OFFENDER_LANG.NUMERACY_SKILL, COUNT(DISTINCT AT_OFFENDER.OFFENDER_ID_DISPLAY) AS COUNT_NOMS_NUMBER FROM OMS_OWNER.OFFENDERS AT_OFFENDER, OMS_OWNER.REFERENCE_CODES AT_LANG_CODE, OMS_OWNER.OFFENDER_BOOKINGS AT_OFFENDER_BOOKING, OMS_OWNER.AGENCY_LOCATIONS AT_OFFENDERS_LOCATIONS, OMS_OWNER.OFFENDER_PROFILE_DETAILS AT_OFF_PROF_DET_NAT, OMS_OWNER.CASELOAD_AGENCY_LOCATIONS AT_CASELOAD_LOCATIONS, OMS_OWNER.PROFILE_CODES AT_NATIONALITY, OMS_OWNER.OFFENDER_LANGUAGES AT_OFFENDER_LANG WHERE (AT_OFFENDER.OFFENDER_ID = AT_OFFENDER_BOOKING.OFFENDER_ID) AND (AT_OFFENDERS_LOCATIONS.AGENCY_LOCATION_TYPE = 'INST') AND (AT_OFF_PROF_DET_NAT.OFFENDER_BOOK_ID (+) = AT_OFFENDER_BOOKING.OFFENDER_BOOK_ID) AND (AT_OFF_PROF_DET_NAT.PROFILE_TYPE (+) = ('NAT')) AND (AT_NATIONALITY.PROFILE_TYPE (+) = AT_OFF_PROF_DET_NAT.PROFILE_TYPE AND AT_NATIONALITY.PROFILE_CODE (+) = AT_OFF_PROF_DET_NAT.PROFILE_CODE) AND (AT_NATIONALITY.PROFILE_TYPE (+) = ('NAT')) AND (AT_CASELOAD_LOCATIONS.AGY_LOC_ID = AT_OFFENDER_BOOKING.AGY_LOC_ID) AND (AT_CASELOAD_LOCATIONS.AGY_LOC_ID = AT_OFFENDERS_LOCATIONS.AGY_LOC_ID (+)) AND (NOT AT_CASELOAD_LOCATIONS.AGY_LOC_ID IN ('OUT', 'TRN') AND NOT AT_CASELOAD_LOCATIONS.CASELOAD_ID IN ('ADMINC', 'CADM_I', 'MULTI')) AND (AT_OFFENDER_BOOKING.OFFENDER_BOOK_ID = AT_OFFENDER_LANG.OFFENDER_BOOK_ID (+)) AND (AT_OFFENDER_LANG.LANGUAGE_CODE = AT_LANG_CODE.CODE (+)) AND (AT_LANG_CODE.DOMAIN (+) = 'LANG') AND ((AT_OFFENDERS_LOCATIONS.AGY_LOC_ID = (SELECT establishment_code FROM prompt_)) AND (AT_OFFENDER_BOOKING.ACTIVE_FLAG = 'Y')) GROUP BY AT_OFFENDER.OFFENDER_ID_DISPLAY, AT_OFFENDER.LAST_NAME, AT_OFFENDER.FIRST_NAME, AT_NATIONALITY.DESCRIPTION, AT_OFFENDER_LANG.LANGUAGE_CODE, AT_LANG_CODE.DESCRIPTION, CASE WHEN AT_OFFENDER_LANG.READ_SKILL = 'A' THEN 'Average' WHEN AT_OFFENDER_LANG.READ_SKILL = 'P' THEN 'Poor' WHEN AT_OFFENDER_LANG.READ_SKILL = 'G' THEN 'Good' WHEN AT_OFFENDER_LANG.READ_SKILL = 'D' THEN 'Dyslexia' WHEN AT_OFFENDER_LANG.READ_SKILL = 'N' THEN 'Nil' WHEN AT_OFFENDER_LANG.READ_SKILL = 'R' THEN 'Refused' ELSE AT_OFFENDER_LANG.READ_SKILL END, CASE WHEN AT_OFFENDER_LANG.SPEAK_SKILL = 'A' THEN 'Average' WHEN AT_OFFENDER_LANG.Speak_SKILL = 'P' THEN 'Poor' WHEN AT_OFFENDER_LANG.speak_SKILL = 'G' THEN 'Good' WHEN AT_OFFENDER_LANG.speak_SKILL = 'D' THEN 'Dyslexia' WHEN AT_OFFENDER_LANG.speak_SKILL = 'N' THEN 'Nil' WHEN AT_OFFENDER_LANG.speak_SKILL = 'R' THEN 'Refused' ELSE AT_OFFENDER_LANG.SPEAK_SKILL END, CASE WHEN AT_OFFENDER_LANG.WRITE_SKILL = 'A' THEN 'Average' WHEN AT_OFFENDER_LANG.WRITE_SKILL = 'P' THEN 'Poor' WHEN AT_OFFENDER_LANG.WRITE_SKILL = 'G' THEN 'Good' WHEN AT_OFFENDER_LANG.WRITE_SKILL = 'D' THEN 'Dyslexia' WHEN AT_OFFENDER_LANG.WRITE_SKILL = 'N' THEN 'Nil' WHEN AT_OFFENDER_LANG.WRITE_SKILL = 'R' THEN 'Refused' ELSE AT_OFFENDER_LANG.WRITE_SKILL END, CASE WHEN AT_OFFENDER_LANG.LANGUAGE_TYPE = 'PRIM' THEN 'English Comprehension' WHEN AT_OFFENDER_LANG.LANGUAGE_TYPE = 'PREF_SPEAK' THEN 'Preferred Spoken Language' WHEN AT_OFFENDER_LANG.LANGUAGE_TYPE = 'PREF_WRITE' THEN 'Preferred Written Language' WHEN AT_OFFENDER_LANG.LANGUAGE_TYPE = 'SEC' THEN 'Secondary' ELSE AT_OFFENDER_LANG.LANGUAGE_TYPE END, AT_OFFENDER_LANG.NUMERACY_SKILL), dataset_ AS (SELECT OFFENDER_ID_DISPLAY, LAST_NAME, FIRST_NAME, DESCRIPTION, LANGUAGE_CODE, LANGUAGE, READ_SKILL, SPEAK_SKILL, WRITE_SKILL, LANGUAGE_TYPE, NUMERACY_SKILL, COUNT_NOMS_NUMBER, CASE WHEN DESCRIPTION IS NULL THEN 'Not Recorded' ELSE DESCRIPTION END AS VNATIONALITY, CASE WHEN NUMERACY_SKILL = 'A' THEN 'Average' ELSE CASE WHEN NUMERACY_SKILL = 'P' THEN 'Poor' ELSE CASE WHEN NUMERACY_SKILL = 'G' THEN 'Good' ELSE CASE WHEN NUMERACY_SKILL = 'D' THEN 'Dyslexia' ELSE CASE WHEN NUMERACY_SKILL = 'N' THEN 'Nil' ELSE CASE WHEN NUMERACY_SKILL = 'R' THEN 'Refused' END END END END END END AS V_NUMERACY, PREFERRED_SPOKEN_LANGUAGE.LANGUAGE AS VPREFERREDSPOKENLANGUAGE FROM dataset_base_)",
      "parameters": [
        {
          "index": 0,
          "name": "establishment_code",
          "filterType": "autocomplete",
          "reportFieldType": "string",
          "display": "Establishment",
          "description": "(SELECT establishment_code from prompt_)",
          "mandatory": "true",
          "referenceType": "establishment"
        }
      ],
      "schema": {
        "field": [
          {
            "index": 0,
            "name": "OFFENDER_ID_DISPLAY",
            "type": "string",
            "display": "NOMS Number",
            "legacyId": "DP3.DO44",
            "legacySqlClass": "column"
          },
          {
            "index": 1,
            "name": "LAST_NAME",
            "type": "string",
            "display": "Last Name",
            "legacyId": "DP3.DO45",
            "legacySqlClass": "column"
          },
          {
            "index": 2,
            "name": "FIRST_NAME",
            "type": "string",
            "display": "First Name",
            "legacyId": "DP3.DO46",
            "legacySqlClass": "column"
          },
          {
            "index": 3,
            "name": "DESCRIPTION",
            "type": "string",
            "display": "Nationality",
            "legacyId": "DP3.DOb7e",
            "legacySqlClass": "column"
          },
          {
            "index": 4,
            "name": "LANGUAGE_CODE",
            "type": "string",
            "display": "Language Code",
            "legacyId": "DP3.DOda6",
            "legacySqlClass": "column"
          },
          {
            "index": 5,
            "name": "LANGUAGE",
            "type": "string",
            "display": "Language",
            "legacyId": "DP3.DO1021",
            "legacySqlClass": "column"
          },
          {
            "index": 6,
            "name": "READ_SKILL",
            "type": "string",
            "display": "Read Skill",
            "legacyId": "DP3.DOda7",
            "legacySqlClass": "column"
          },
          {
            "index": 7,
            "name": "SPEAK_SKILL",
            "type": "string",
            "display": "Speak Skill",
            "legacyId": "DP3.DOda8",
            "legacySqlClass": "column"
          },
          {
            "index": 8,
            "name": "WRITE_SKILL",
            "type": "string",
            "display": "Write Skill",
            "legacyId": "DP3.DOda9",
            "legacySqlClass": "column"
          },
          {
            "index": 9,
            "name": "LANGUAGE_TYPE",
            "type": "string",
            "display": "Language Type",
            "legacyId": "DP3.DOda5",
            "legacySqlClass": "column"
          },
          {
            "index": 10,
            "name": "NUMERACY_SKILL",
            "type": "string",
            "display": "Numeracy Skill",
            "legacyId": "DP3.DOdaf",
            "legacySqlClass": "column"
          },
          {
            "index": 11,
            "name": "COUNT_NOMS_NUMBER",
            "type": "double",
            "display": "Count NOMS Number",
            "legacyId": "DP3.DO5e4",
            "legacySqlClass": "column"
          },
          {
            "index": 12,
            "name": "VNATIONALITY",
            "type": "string",
            "display": "VNATIONALITY",
            "legacyId": "???",
            "legacySqlClass": "alias"
          },
          {
            "index": 13,
            "name": "V_NUMERACY",
            "type": "string",
            "display": "V_NUMERACY",
            "legacyId": "???",
            "legacySqlClass": "alias"
          },
          {
            "index": 14,
            "name": "VPREFERREDSPOKENLANGUAGE",
            "type": "string",
            "display": "VPREFERREDSPOKENLANGUAGE",
            "legacyId": "???",
            "legacySqlClass": "alias"
          }
        ]
      }
    },
    {
      "id": "3377299/DPa",
      "name": "Preferred Spoken Language",
      "description": "Demographic",
      "datasource": "nomis",
      "query": "dataset_base_ AS (SELECT AT_OFFENDER.OFFENDER_ID_DISPLAY, AT_LANG_CODE.DESCRIPTION FROM OMS_OWNER.OFFENDERS AT_OFFENDER, OMS_OWNER.REFERENCE_CODES AT_LANG_CODE, OMS_OWNER.OFFENDER_BOOKINGS AT_OFFENDER_BOOKING, OMS_OWNER.AGENCY_LOCATIONS AT_OFFENDERS_LOCATIONS, OMS_OWNER.CASELOAD_AGENCY_LOCATIONS AT_CASELOAD_LOCATIONS, OMS_OWNER.OFFENDER_LANGUAGES AT_OFFENDER_LANG WHERE (AT_OFFENDER.OFFENDER_ID = AT_OFFENDER_BOOKING.OFFENDER_ID) AND (AT_OFFENDERS_LOCATIONS.AGENCY_LOCATION_TYPE = 'INST') AND (AT_CASELOAD_LOCATIONS.AGY_LOC_ID = AT_OFFENDER_BOOKING.AGY_LOC_ID) AND (AT_CASELOAD_LOCATIONS.AGY_LOC_ID = AT_OFFENDERS_LOCATIONS.AGY_LOC_ID (+)) AND (NOT AT_CASELOAD_LOCATIONS.AGY_LOC_ID IN ('OUT', 'TRN') AND NOT AT_CASELOAD_LOCATIONS.CASELOAD_ID IN ('ADMINC', 'CADM_I', 'MULTI')) AND (AT_OFFENDER_BOOKING.OFFENDER_BOOK_ID = AT_OFFENDER_LANG.OFFENDER_BOOK_ID (+)) AND (AT_OFFENDER_LANG.LANGUAGE_CODE = AT_LANG_CODE.CODE (+)) AND (AT_LANG_CODE.DOMAIN (+) = 'LANG') AND ((AT_OFFENDERS_LOCATIONS.AGY_LOC_ID = (SELECT establishment_code FROM prompt_)) AND (AT_OFFENDER_BOOKING.ACTIVE_FLAG = 'Y') AND CASE WHEN AT_OFFENDER_LANG.LANGUAGE_TYPE = 'PRIM' THEN 'English Comprehension' WHEN AT_OFFENDER_LANG.LANGUAGE_TYPE = 'PREF_SPEAK' THEN 'Preferred Spoken Language' WHEN AT_OFFENDER_LANG.LANGUAGE_TYPE = 'PREF_WRITE' THEN 'Preferred Written Language' WHEN AT_OFFENDER_LANG.LANGUAGE_TYPE = 'SEC' THEN 'Secondary' ELSE AT_OFFENDER_LANG.LANGUAGE_TYPE END = 'Preferred Spoken Language')), dataset_ AS (SELECT OFFENDER_ID_DISPLAY, DESCRIPTION FROM dataset_base_)",
      "parameters": [
        {
          "index": 0,
          "name": "establishment_code",
          "filterType": "autocomplete",
          "reportFieldType": "string",
          "display": "Establishment",
          "description": "(SELECT establishment_code from prompt_)",
          "mandatory": "true",
          "referenceType": "establishment"
        }
      ],
      "schema": {
        "field": [
          {
            "index": 0,
            "name": "OFFENDER_ID_DISPLAY",
            "type": "string",
            "display": "NOMS Number",
            "legacyId": "DPa.DO44",
            "legacySqlClass": "column"
          },
          {
            "index": 1,
            "name": "DESCRIPTION",
            "type": "string",
            "display": "Language",
            "legacyId": "DPa.DO1021",
            "legacySqlClass": "column"
          }
        ]
      }
    },
    {
      "id": "3377299/DPb",
      "name": "All Languages",
      "description": "Demographic",
      "datasource": "nomis",
      "query": "dataset_base_ AS (SELECT AT_OFFENDER.OFFENDER_ID_DISPLAY, AT_LANG_CODE.DESCRIPTION, COUNT(DISTINCT AT_OFFENDER.OFFENDER_ID_DISPLAY) AS COUNT_NOMS_NUMBER FROM OMS_OWNER.OFFENDERS AT_OFFENDER, OMS_OWNER.REFERENCE_CODES AT_LANG_CODE, OMS_OWNER.OFFENDER_BOOKINGS AT_OFFENDER_BOOKING, OMS_OWNER.AGENCY_LOCATIONS AT_OFFENDERS_LOCATIONS, OMS_OWNER.CASELOAD_AGENCY_LOCATIONS AT_CASELOAD_LOCATIONS, OMS_OWNER.OFFENDER_LANGUAGES AT_OFFENDER_LANG WHERE (AT_OFFENDER.OFFENDER_ID = AT_OFFENDER_BOOKING.OFFENDER_ID) AND (AT_OFFENDERS_LOCATIONS.AGENCY_LOCATION_TYPE = 'INST') AND (AT_CASELOAD_LOCATIONS.AGY_LOC_ID = AT_OFFENDER_BOOKING.AGY_LOC_ID) AND (AT_CASELOAD_LOCATIONS.AGY_LOC_ID = AT_OFFENDERS_LOCATIONS.AGY_LOC_ID (+)) AND (NOT AT_CASELOAD_LOCATIONS.AGY_LOC_ID IN ('OUT', 'TRN') AND NOT AT_CASELOAD_LOCATIONS.CASELOAD_ID IN ('ADMINC', 'CADM_I', 'MULTI')) AND (AT_OFFENDER_BOOKING.OFFENDER_BOOK_ID = AT_OFFENDER_LANG.OFFENDER_BOOK_ID (+)) AND (AT_OFFENDER_LANG.LANGUAGE_CODE = AT_LANG_CODE.CODE (+)) AND (AT_LANG_CODE.DOMAIN (+) = 'LANG') AND ((AT_OFFENDERS_LOCATIONS.AGY_LOC_ID = (SELECT establishment_code FROM prompt_)) AND (AT_OFFENDER_BOOKING.ACTIVE_FLAG = 'Y')) GROUP BY AT_OFFENDER.OFFENDER_ID_DISPLAY, AT_LANG_CODE.DESCRIPTION), dataset_ AS (SELECT OFFENDER_ID_DISPLAY, DESCRIPTION, COUNT_NOMS_NUMBER, CASE WHEN ALL_LANGUAGES.LANGUAGE IS NULL THEN 'Not Entered' ELSE ALL_LANGUAGES.LANGUAGE END AS V_LANGUAGES_SPOKEN FROM dataset_base_)",
      "parameters": [
        {
          "index": 0,
          "name": "establishment_code",
          "filterType": "autocomplete",
          "reportFieldType": "string",
          "display": "Establishment",
          "description": "(SELECT establishment_code from prompt_)",
          "mandatory": "true",
          "referenceType": "establishment"
        }
      ],
      "schema": {
        "field": [
          {
            "index": 0,
            "name": "OFFENDER_ID_DISPLAY",
            "type": "string",
            "display": "NOMS Number",
            "legacyId": "DPb.DO44",
            "legacySqlClass": "column"
          },
          {
            "index": 1,
            "name": "DESCRIPTION",
            "type": "string",
            "display": "Language",
            "legacyId": "DPb.DO1021",
            "legacySqlClass": "column"
          },
          {
            "index": 2,
            "name": "COUNT_NOMS_NUMBER",
            "type": "double",
            "display": "Count NOMS Number",
            "legacyId": "DPb.DO5e4",
            "legacySqlClass": "column"
          },
          {
            "index": 3,
            "name": "V_LANGUAGES_SPOKEN",
            "type": "string",
            "display": "V_LANGUAGES_SPOKEN",
            "legacyId": "???",
            "legacySqlClass": "alias"
          }
        ]
      }
    }
  ],
  "policy": [
    {
      "id": "access",
      "type": "access",
      "rule": [
        {
          "effect": "permit",
          "condition": [
            {
              "match": [
                "${role}",
                "ROLE_PRISONS_REPORTING_USER"
              ]
            }
          ]
        }
      ]
    }
  ],
  "report": [
    {
      "id": "166972.RS",
      "name": "All Skills",
      "classification": "OFFICIAL",
      "version": "1.0.0",
      "render": "HTML",
      "dataset": "3377299/DP3",
      "feature": [
        {
          "type": "print"
        }
      ],
      "specification": {
        "template": "list",
        "field": [
          {
            "name": "$ref:OFFENDER_ID_DISPLAY",
            "display": "NOMS Number",
            "formula": "",
            "visible": "true",
            "sortable": false,
            "defaultsort": false,
            "legacyId": "DP3.DO44"
          },
          {
            "name": "$ref:FIRST_NAME",
            "display": "First Name",
            "formula": "",
            "visible": "true",
            "sortable": true,
            "defaultsort": false,
            "legacyId": "DP3.DO46"
          },
          {
            "name": "$ref:LAST_NAME",
            "display": "Last Name",
            "formula": "",
            "visible": "true",
            "sortable": true,
            "defaultsort": false,
            "legacyId": "DP3.DO45"
          },
          {
            "name": "$ref:VNATIONALITY",
            "display": "=NameOf([Nationality])",
            "formula": "",
            "visible": "true",
            "sortable": false,
            "defaultsort": false,
            "legacySql": "=If(IsNull([Nationality]);\"Not Recorded\";[Nationality])"
          },
          {
            "name": "$ref:LANGUAGE_TYPE",
            "display": "Language Type",
            "formula": "",
            "visible": "true",
            "sortable": true,
            "defaultsort": false,
            "legacyId": "DP3.DOda5"
          },
          {
            "name": "$ref:LANGUAGE",
            "display": "Language",
            "formula": "",
            "visible": "true",
            "sortable": true,
            "defaultsort": false,
            "legacyId": "DP3.DO1021"
          },
          {
            "name": "$ref:SPEAK_SKILL",
            "display": "Speak Skill",
            "formula": "",
            "visible": "true",
            "sortable": true,
            "defaultsort": false,
            "legacyId": "DP3.DOda8"
          },
          {
            "name": "$ref:READ_SKILL",
            "display": "Read Skill",
            "formula": "",
            "visible": "true",
            "sortable": true,
            "defaultsort": false,
            "legacyId": "DP3.DOda7"
          },
          {
            "name": "$ref:WRITE_SKILL",
            "display": "Write Skill",
            "formula": "",
            "visible": "true",
            "sortable": true,
            "defaultsort": false,
            "legacyId": "DP3.DOda9"
          },
          {
            "name": "$ref:V_NUMERACY",
            "display": "Numeracy",
            "formula": "",
            "visible": "true",
            "sortable": false,
            "defaultsort": false,
            "legacySql": "=If([Numeracy Skill] =\"A\"; \"Average\";If([Numeracy Skill]= \"P\"; \"Poor\";If([Numeracy Skill]=\"G\"; \"Good\";If([Numeracy Skill]= \"D\"; \"Dyslexia\";If([Numeracy Skill]= \"N\"; \"Nil\"; If([Numeracy Skill]=\"R\"; \"Refused\"))))))"
          }
        ]
      }
    },
    {
      "id": "168585.RS",
      "name": "English and Preferred Spoken Language",
      "classification": "OFFICIAL",
      "version": "1.0.0",
      "render": "HTML",
      "dataset": "3377299/DP3",
      "filter": {
        "name": "prefilter_",
        "query": "prefilter_ AS (SELECT * FROM dataset_ WHERE (LANGUAGE_TYPE = 'English Comprehension' OR LANGUAGE_TYPE IS NULL))"
      },
      "feature": [
        {
          "type": "print"
        }
      ],
      "specification": {
        "template": "list",
        "field": [
          {
            "name": "$ref:OFFENDER_ID_DISPLAY",
            "display": "NOMS Number",
            "formula": "",
            "visible": "true",
            "sortable": false,
            "defaultsort": false,
            "legacyId": "DP3.DO44"
          },
          {
            "name": "$ref:FIRST_NAME",
            "display": "First Name",
            "formula": "",
            "visible": "true",
            "sortable": true,
            "defaultsort": false,
            "legacyId": "DP3.DO46"
          },
          {
            "name": "$ref:LAST_NAME",
            "display": "Last Name",
            "formula": "",
            "visible": "true",
            "sortable": true,
            "defaultsort": false,
            "legacyId": "DP3.DO45"
          },
          {
            "name": "$ref:DESCRIPTION",
            "display": "Nationality",
            "formula": "",
            "visible": "true",
            "sortable": true,
            "defaultsort": false,
            "legacyId": "DP3.DOb7e"
          },
          {
            "name": "$ref:VPREFERREDSPOKENLANGUAGE",
            "display": "First Name",
            "formula": "",
            "visible": "true",
            "sortable": false,
            "defaultsort": false,
            "legacySql": "=[Preferred Spoken Language].[Language]"
          }
        ]
      }
    },
    {
      "id": "168452.RS",
      "name": "Summary By Nationality",
      "classification": "OFFICIAL",
      "version": "1.0.0",
      "render": "HTML",
      "feature": [
        {
          "type": "print"
        }
      ],
      "specification": {
        "template": "summary",
        "field": []
      },
      "dataset": "MISSING"
    },
    {
      "id": "168858.RS",
      "name": "Summary of Languages",
      "classification": "OFFICIAL",
      "version": "1.0.0",
      "render": "HTML",
      "dataset": "3377299/DPb",
      "feature": [
        {
          "type": "print"
        }
      ],
      "specification": {
        "template": "list",
        "field": [
          {
            "name": "$ref:V_LANGUAGES_SPOKEN",
            "display": "Language Spoken",
            "formula": "",
            "visible": "true",
            "sortable": false,
            "defaultsort": false,
            "legacySql": "=If(IsNull([All Languages].[Language]);\"Not Entered\";[All Languages].[Language])"
          },
          {
            "name": "$ref:COUNT_NOMS_NUMBER",
            "display": "Count NOMS Number",
            "formula": "",
            "visible": "true",
            "sortable": false,
            "defaultsort": false,
            "legacyId": "DPb.DO5e4"
          }
        ]
      }
    }
  ],
  "errors": [
    {
      "type": "schema",
      "error": "instance.report[2] requires property \"dataset\"",
      "entityId": "kliHLRoAANsubdkA6f8AISgXYiw",
      "entityType": "dpd"
    },
    {
      "type": "schema",
      "error": "Report Variant 168452.RS does not have corresponding dataset undefined",
      "entityId": "168452.RS",
      "entityType": "variant"
    },
    {
      "type": "sqlQuery",
      "error": "Error: ORA-00904: \"PREFERRED_SPOKEN_LANGUAGE\".\"LANGUAGE\": invalid identifier\nHelp: https://docs.oracle.com/error-help/db/ora-00904/",
      "entityId": "3377299/DP3",
      "entityType": "dataset"
    },
    {
      "type": "sqlQuery",
      "error": "Error: ORA-00904: \"ALL_LANGUAGES\".\"LANGUAGE\": invalid identifier\nHelp: https://docs.oracle.com/error-help/db/ora-00904/",
      "entityId": "3377299/DPb",
      "entityType": "dataset"
    }
  ]
}