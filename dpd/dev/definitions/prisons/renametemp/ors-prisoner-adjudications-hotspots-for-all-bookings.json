{
  "id": "FhV.uV3ZIggArvMBAHBbWF81ACJIAAzC",
  "name": "ORS Prisoner Adjudications Hotspots for All Bookings",
  "description": "<br/>ADJ0014- v00.00.01 Last Modified: This report produces a list of prisoners for an establishment selected at runtime along with  the total number of adjudications and proven adjudications for each prisoner. The intention of the report is to help establishments manage risk by showing internal locations with a high adjudication count â€“ this is also shown graphically on the last two tabs of the report.",
  "metadata": {
    "version": "1.0.0",
    "tags": [
      "ADJ0014  v00.00.01"
    ]
  },
  "datasource": [
    {
      "id": "nomis",
      "name": "NOMIS",
      "database": "DIGITAL_PRISON_REPORTING",
      "catalog": "nomis"
    }
  ],
  "dataset": [
    {
      "id": "3377299/DPa",
      "name": "Demographics",
      "description": "Demographic",
      "datasource": "nomis",
      "query": "dataset_base_ AS (SELECT AT_OFFENDER.OFFENDER_ID_DISPLAY, AT_OFFENDER.FIRST_NAME, AT_OFFENDER.LAST_NAME, AT_OFFENDER.BIRTH_DATE, CASE WHEN AT_ETHNICITY_DESC.CODE = 'W8' THEN 'White: Gypsy or Irish Traveller' WHEN AT_ETHNICITY_DESC.CODE = 'O1' THEN 'Asian/Asian British: Chinese' ELSE AT_ETHNICITY_DESC.DESCRIPTION END AS ETHNIC_DESC_, SUBSTR(AT_AGENCY_INTERNAL_LOCATION_L4.DESCRIPTION, LENGTH(AT_AGENCY_INTERNAL_LOCATION_L4.AGY_LOC_ID) + 2, LENGTH(AT_AGENCY_INTERNAL_LOCATION_L4.DESCRIPTION)) AS UNIT_DESCRIPTION_4_SHORT, CASE WHEN INSTR(AT_AGENCY_INTERNAL_LOCATION_L4.DESCRIPTION, '-', 1, 1) = 0 THEN NULL ELSE SUBSTR(AT_AGENCY_INTERNAL_LOCATION_L4.DESCRIPTION, INSTR(AT_AGENCY_INTERNAL_LOCATION_L4.DESCRIPTION, '-', 1, 1) + 1, CASE WHEN INSTR(AT_AGENCY_INTERNAL_LOCATION_L4.DESCRIPTION, '-', 1, 2) = 0 THEN LENGTH(AT_AGENCY_INTERNAL_LOCATION_L4.DESCRIPTION) ELSE INSTR(AT_AGENCY_INTERNAL_LOCATION_L4.DESCRIPTION, '-', 1, 2) - INSTR(AT_AGENCY_INTERNAL_LOCATION_L4.DESCRIPTION, '-', 1, 1) END - 1) END AS UNIT_CODE_1 FROM OMS_OWNER.OFFENDERS AT_OFFENDER, OMS_OWNER.AGENCY_INTERNAL_LOCATIONS AT_AGENCY_INTERNAL_LOCATION_L4, OMS_OWNER.REFERENCE_CODES AT_ETHNICITY_DESC, OMS_OWNER.OFFENDER_BOOKINGS AT_OFFENDER_BOOKING, OMS_OWNER.AGENCY_LOCATIONS AT_OFFENDERS_LOCATIONS, OMS_OWNER.AGENCY_LOCATIONS AT_WING_ESTABLISHMENT, OMS_OWNER.CASELOAD_AGENCY_LOCATIONS AT_CASELOAD_LOCATIONS, USER_ACCESSIBLE_CASELOADS WING_CASELOAD_SECURITY WHERE (AT_OFFENDER.OFFENDER_ID = AT_OFFENDER_BOOKING.OFFENDER_ID) AND (AT_OFFENDER_BOOKING.LIVING_UNIT_ID = AT_AGENCY_INTERNAL_LOCATION_L4.INTERNAL_LOCATION_ID) AND (AT_ETHNICITY_DESC.DOMAIN (+) = 'ETHNICITY') AND (AT_ETHNICITY_DESC.CODE (+) = AT_OFFENDER.RACE_CODE) AND (AT_OFFENDERS_LOCATIONS.AGENCY_LOCATION_TYPE = 'INST') AND (AT_CASELOAD_LOCATIONS.AGY_LOC_ID = AT_OFFENDER_BOOKING.AGY_LOC_ID) AND (AT_CASELOAD_LOCATIONS.AGY_LOC_ID = AT_OFFENDERS_LOCATIONS.AGY_LOC_ID (+)) AND (NOT AT_CASELOAD_LOCATIONS.AGY_LOC_ID IN ('OUT', 'TRN') AND NOT AT_CASELOAD_LOCATIONS.CASELOAD_ID IN ('ADMINC', 'CADM_I', 'MULTI')) AND (AT_AGENCY_INTERNAL_LOCATION_L4.AGY_LOC_ID = AT_WING_ESTABLISHMENT.AGY_LOC_ID) AND (AT_WING_ESTABLISHMENT.AGY_LOC_ID = WING_CASELOAD_SECURITY.CASELOAD_ID) AND (WING_CASELOAD_SECURITY.USERNAME = (SELECT username FROM context_)) AND (WING_CASELOAD_SECURITY.USERNAME = (SELECT username FROM context_)) AND ((AT_OFFENDERS_LOCATIONS.AGY_LOC_ID = (SELECT establishment_code FROM prompt_)) AND AT_OFFENDER_BOOKING.ACTIVE_FLAG = 'Y' AND AT_OFFENDER.OFFENDER_ID_DISPLAY <= 'A599999')), dataset_ AS (SELECT OFFENDER_ID_DISPLAY, FIRST_NAME, LAST_NAME, BIRTH_DATE, ETHNIC_DESC_, UNIT_DESCRIPTION_4_SHORT, UNIT_CODE_1 FROM dataset_base_)",
      "parameters": [
        {
          "index": 0,
          "name": "establishment_code",
          "filterType": "autocomplete",
          "reportFieldType": "string",
          "display": "Establishment",
          "description": "(SELECT establishment_code from prompt_)",
          "mandatory": "true",
          "referenceType": "establishment"
        }
      ],
      "schema": {
        "field": [
          {
            "index": 0,
            "name": "OFFENDER_ID_DISPLAY",
            "type": "string",
            "display": "NOMS Number",
            "legacyId": "DPa.DO44",
            "legacySqlClass": "column"
          },
          {
            "index": 1,
            "name": "FIRST_NAME",
            "type": "string",
            "display": "First Name",
            "legacyId": "DPa.DO46",
            "legacySqlClass": "column"
          },
          {
            "index": 2,
            "name": "LAST_NAME",
            "type": "string",
            "display": "Last Name",
            "legacyId": "DPa.DO45",
            "legacySqlClass": "column"
          },
          {
            "index": 3,
            "name": "BIRTH_DATE",
            "type": "date",
            "display": "Date of Birth",
            "legacyId": "DPa.DO75",
            "legacySqlClass": "column"
          },
          {
            "index": 4,
            "name": "ETHNIC_DESC_",
            "type": "string",
            "display": "Ethnic Desc.",
            "legacyId": "DPa.DOc28",
            "legacySqlClass": "column"
          },
          {
            "index": 5,
            "name": "UNIT_DESCRIPTION_4_SHORT",
            "type": "string",
            "display": "Unit Description 4 Short",
            "legacyId": "DPa.DO427",
            "legacySqlClass": "column"
          },
          {
            "index": 6,
            "name": "UNIT_CODE_1",
            "type": "string",
            "display": "Unit Code 1",
            "legacyId": "DPa.DO472",
            "legacySqlClass": "column"
          }
        ]
      }
    },
    {
      "id": "3377299/DPc",
      "name": "Demographics (1)",
      "description": "Demographic",
      "datasource": "nomis",
      "query": "dataset_base_ AS (SELECT AT_OFFENDER.OFFENDER_ID_DISPLAY, AT_OFFENDER.FIRST_NAME, AT_OFFENDER.LAST_NAME, AT_OFFENDER.BIRTH_DATE, CASE WHEN AT_ETHNICITY_DESC.CODE = 'W8' THEN 'White: Gypsy or Irish Traveller' WHEN AT_ETHNICITY_DESC.CODE = 'O1' THEN 'Asian/Asian British: Chinese' ELSE AT_ETHNICITY_DESC.DESCRIPTION END AS ETHNIC_DESC_, SUBSTR(AT_AGENCY_INTERNAL_LOCATION_L4.DESCRIPTION, LENGTH(AT_AGENCY_INTERNAL_LOCATION_L4.AGY_LOC_ID) + 2, LENGTH(AT_AGENCY_INTERNAL_LOCATION_L4.DESCRIPTION)) AS UNIT_DESCRIPTION_4_SHORT, CASE WHEN INSTR(AT_AGENCY_INTERNAL_LOCATION_L4.DESCRIPTION, '-', 1, 1) = 0 THEN NULL ELSE SUBSTR(AT_AGENCY_INTERNAL_LOCATION_L4.DESCRIPTION, INSTR(AT_AGENCY_INTERNAL_LOCATION_L4.DESCRIPTION, '-', 1, 1) + 1, CASE WHEN INSTR(AT_AGENCY_INTERNAL_LOCATION_L4.DESCRIPTION, '-', 1, 2) = 0 THEN LENGTH(AT_AGENCY_INTERNAL_LOCATION_L4.DESCRIPTION) ELSE INSTR(AT_AGENCY_INTERNAL_LOCATION_L4.DESCRIPTION, '-', 1, 2) - INSTR(AT_AGENCY_INTERNAL_LOCATION_L4.DESCRIPTION, '-', 1, 1) END - 1) END AS UNIT_CODE_1 FROM OMS_OWNER.OFFENDERS AT_OFFENDER, OMS_OWNER.AGENCY_INTERNAL_LOCATIONS AT_AGENCY_INTERNAL_LOCATION_L4, OMS_OWNER.REFERENCE_CODES AT_ETHNICITY_DESC, OMS_OWNER.OFFENDER_BOOKINGS AT_OFFENDER_BOOKING, OMS_OWNER.AGENCY_LOCATIONS AT_OFFENDERS_LOCATIONS, OMS_OWNER.AGENCY_LOCATIONS AT_WING_ESTABLISHMENT, OMS_OWNER.CASELOAD_AGENCY_LOCATIONS AT_CASELOAD_LOCATIONS, USER_ACCESSIBLE_CASELOADS WING_CASELOAD_SECURITY WHERE (AT_OFFENDER.OFFENDER_ID = AT_OFFENDER_BOOKING.OFFENDER_ID) AND (AT_OFFENDER_BOOKING.LIVING_UNIT_ID = AT_AGENCY_INTERNAL_LOCATION_L4.INTERNAL_LOCATION_ID) AND (AT_ETHNICITY_DESC.DOMAIN (+) = 'ETHNICITY') AND (AT_ETHNICITY_DESC.CODE (+) = AT_OFFENDER.RACE_CODE) AND (AT_OFFENDERS_LOCATIONS.AGENCY_LOCATION_TYPE = 'INST') AND (AT_CASELOAD_LOCATIONS.AGY_LOC_ID = AT_OFFENDER_BOOKING.AGY_LOC_ID) AND (AT_CASELOAD_LOCATIONS.AGY_LOC_ID = AT_OFFENDERS_LOCATIONS.AGY_LOC_ID (+)) AND (NOT AT_CASELOAD_LOCATIONS.AGY_LOC_ID IN ('OUT', 'TRN') AND NOT AT_CASELOAD_LOCATIONS.CASELOAD_ID IN ('ADMINC', 'CADM_I', 'MULTI')) AND (AT_AGENCY_INTERNAL_LOCATION_L4.AGY_LOC_ID = AT_WING_ESTABLISHMENT.AGY_LOC_ID) AND (AT_WING_ESTABLISHMENT.AGY_LOC_ID = WING_CASELOAD_SECURITY.CASELOAD_ID) AND (WING_CASELOAD_SECURITY.USERNAME = (SELECT username FROM context_)) AND (WING_CASELOAD_SECURITY.USERNAME = (SELECT username FROM context_)) AND ((AT_OFFENDERS_LOCATIONS.AGY_LOC_ID = (SELECT establishment_code FROM prompt_)) AND AT_OFFENDER_BOOKING.ACTIVE_FLAG = 'Y' AND AT_OFFENDER.OFFENDER_ID_DISPLAY > 'A599999')), dataset_ AS (SELECT OFFENDER_ID_DISPLAY, FIRST_NAME, LAST_NAME, BIRTH_DATE, ETHNIC_DESC_, UNIT_DESCRIPTION_4_SHORT, UNIT_CODE_1 FROM dataset_base_)",
      "parameters": [
        {
          "index": 0,
          "name": "establishment_code",
          "filterType": "autocomplete",
          "reportFieldType": "string",
          "display": "Establishment",
          "description": "(SELECT establishment_code from prompt_)",
          "mandatory": "true",
          "referenceType": "establishment"
        }
      ],
      "schema": {
        "field": [
          {
            "index": 0,
            "name": "OFFENDER_ID_DISPLAY",
            "type": "string",
            "display": "NOMS Number",
            "legacyId": "DPc.DO44",
            "legacySqlClass": "column"
          },
          {
            "index": 1,
            "name": "FIRST_NAME",
            "type": "string",
            "display": "First Name",
            "legacyId": "DPc.DO46",
            "legacySqlClass": "column"
          },
          {
            "index": 2,
            "name": "LAST_NAME",
            "type": "string",
            "display": "Last Name",
            "legacyId": "DPc.DO45",
            "legacySqlClass": "column"
          },
          {
            "index": 3,
            "name": "BIRTH_DATE",
            "type": "date",
            "display": "Date of Birth",
            "legacyId": "DPc.DO75",
            "legacySqlClass": "column"
          },
          {
            "index": 4,
            "name": "ETHNIC_DESC_",
            "type": "string",
            "display": "Ethnic Desc.",
            "legacyId": "DPc.DOc28",
            "legacySqlClass": "column"
          },
          {
            "index": 5,
            "name": "UNIT_DESCRIPTION_4_SHORT",
            "type": "string",
            "display": "Unit Description 4 Short",
            "legacyId": "DPc.DO427",
            "legacySqlClass": "column"
          },
          {
            "index": 6,
            "name": "UNIT_CODE_1",
            "type": "string",
            "display": "Unit Code 1",
            "legacyId": "DPc.DO472",
            "legacySqlClass": "column"
          }
        ]
      }
    },
    {
      "id": "3375850/DP4",
      "name": "Adjudications",
      "description": "Incidents",
      "datasource": "nomis",
      "query": "dataset_base_ AS (SELECT AT_OFFENDER.OFFENDER_ID_DISPLAY, AT_OFFENDER_BOOKING.BOOKING_STATUS, AT_AGENCY_INCIDENTS.AGENCY_INCIDENT_ID FROM OMS_OWNER.OFFENDERS AT_OFFENDER, OMS_OWNER.OFFENDER_BOOKINGS AT_OFFENDER_BOOKING, OMS_OWNER.AGENCY_INCIDENTS AT_AGENCY_INCIDENTS, OMS_OWNER.AGENCY_INCIDENT_PARTIES AT_AGENCY_INCIDENT_PARTIES WHERE (AT_AGENCY_INCIDENT_PARTIES.OFFENDER_BOOK_ID = AT_OFFENDER_BOOKING.OFFENDER_BOOK_ID) AND (AT_AGENCY_INCIDENTS.AGENCY_INCIDENT_ID = AT_AGENCY_INCIDENT_PARTIES.AGENCY_INCIDENT_ID) AND (AT_OFFENDER.OFFENDER_ID = AT_OFFENDER_BOOKING.OFFENDER_ID) AND (AT_OFFENDER.OFFENDER_ID_DISPLAY IN ('A0573AW', 'A2437EH', 'A2736EJ', 'A2732EJ', 'A2725EJ', 'A5069AX', 'A5979AX', 'A4665CC', 'A0779AQ', 'A2835AV', 'A5489AV', 'A5261AK', 'A5944EK', 'A2869EG', 'A5414AK', 'A5525DC', 'A3486AL', 'A4310EK', 'A3928DV', 'A1915CY', 'A4809AZ', 'A5447CL', 'A2199EH', 'A0570EH', 'A5311CX', 'A0047AH', 'A3583AZ', 'A1797EK', 'A4510AZ', 'A4114EK', 'A4576EJ', 'A3514EG', 'A0309EG', 'A0898EK', 'A1092AK', 'A1173AA', 'A5727CA', 'A3551EJ', 'A0174EK', 'A5790EJ', 'A5775DM', 'A5569AW', 'A2238EJ', 'A2240EJ', 'A2473DF', 'A4068ED', 'A3998DC', 'A2637EK', 'A2633EK', 'A1816EK', 'A5770DT', 'A1655DM', 'A2241EJ', 'A2731AW', 'A5471AK', 'A2356CF', 'A3628CE', 'A5294CX', 'A4688EK', 'A5460DT', 'A1929EK', 'A5508DC', 'A3374EJ', 'A4338DY', 'A5718EK', 'A0469EF', 'A5432EJ', 'A2474CD', 'A1877AV', 'A3472AE', 'A0017EL', 'A5951AK', 'A1485EJ', 'A4329DL', 'A5980DC', 'A4804DP', 'A1475DE', 'A4275DT', 'A5584CK', 'A0584AK', 'A2426AA', 'A2838EK', 'A1269AQ', 'A3048AP', 'A1267EJ', 'A3858AM', 'A2449EK', 'A1216AX', 'A0316EG', 'A0925AQ', 'A1512CV', 'A5304AD', 'A0411DG', 'A1641AL', 'A1270EH', 'A2879EH', 'A5956AP', 'A2312DR', 'A0063CE', 'A1616AL', 'A4767CK', 'A2784CF', 'A1119CP', 'A3327CC', 'A0793AM', 'A4608DX', 'A2071DE', 'A1326CD', 'A0183AJ', 'A1576CQ', 'A2089AL', 'A3328AJ', 'A0382CF', 'A4623CR', 'A4304DH', 'A1914AV', 'A5796CQ', 'A3475CJ', 'A2912AM', 'A4034AG', 'A5415AN', 'A2898AH', 'A3741DR', 'A0277DH', 'A2465AL', 'A1786AM', 'A2612AN', 'A2598AL', 'A3020CK', 'A5935EK', 'A4714EH', 'A3884CD', 'A5520AK', 'A3790DE', 'A5898EH', 'A2747AL', 'A0944DC', 'A4782EE', 'A2105EJ', 'A0086EL', 'A3164CF', 'A2925AV', 'A5201AM', 'A5201AP', 'A2519AX', 'A2419AK', 'A4117EA', 'A5374CC', 'A4816AM', 'A0327DZ', 'A2524CN', 'A3209CN', 'A4927CD', 'A1466DX', 'A2612EK', 'A0657AL', 'A2727EJ', 'A1663DF', 'A4413EK', 'A4635CG', 'A1737AL', 'A3848AW', 'A1888AT', 'A5346DW', 'A4303ED', 'A0358CF', 'A3414CQ', 'A5955DV', 'A4114CZ', 'A4607DZ', 'A0437AL', 'A4524AM', 'A0224DM', 'A1347EK', 'A0548DR', 'A3687DM', 'A1596DN', 'A4681CX', 'A2393EK', 'A2818EC', 'A3288DM', 'A4832AR', 'A3294DL', 'A3906EH', 'A0004AP', 'A4292AC', 'A3766DG', 'A3366EK', 'A3363EK', 'A1436EK', 'A0156EK', 'A2224DX', 'A3166EK', 'A2570CD', 'A4622AP', 'A3451AV', 'A1946DG', 'A5904EJ', 'A3400ED', 'A0200AW', 'A5951EK', 'A0332AM', 'A2494CA', 'A5179AK', 'A5322AJ', 'A3220AL', 'A4906EH', 'A3931CY', 'A3387CH', 'A0619AR', 'A2929CZ', 'A4965EJ', 'A0039EL', 'A0322DG') OR AT_OFFENDER.OFFENDER_ID_DISPLAY IN ('A7057EK', 'A6047EK', 'A7330DF', 'A7061EG', 'A8801DV', 'A6324AK', 'A8929DX', 'A8406AX', 'A6067EK', 'A8394EK', 'A6535AE', 'A6405CV', 'A6044EK', 'A8145EJ', 'A9175DY', 'A6533DZ', 'A7666EK', 'A7659EK', 'A9034DG', 'A6720ED', 'A9543AC', 'A8872CC', 'A7187AL', 'A7866EK', 'A6922AP', 'A8383EJ', 'A7728DC', 'A6281EH', 'A9276EK', 'A9347AQ', 'A8238EJ', 'A6270EH', 'A6169EJ', 'A6521EJ', 'A9402AK', 'A6398DD', 'A6069EC', 'A7484DY', 'A9985AT', 'A8285EJ', 'A9489EH', 'A6523DK', 'A6437EJ', 'A6997EH', 'A6094CR', 'A9123AD', 'A6378EJ', 'A9076EK', 'A6489DP', 'A8835AF', 'A8939EH', 'A7646EK', 'A9734CN', 'A8321EK', 'A7963AC', 'A7428DY', 'A6124CC', 'A7348DK', 'A9112AZ', 'A9171AK', 'A6205DL', 'A8996EJ', 'A8567EK', 'A7058EK', 'A8858AV', 'A6609EJ', 'A8661EJ', 'A7090CJ', 'A6598CM', 'A8595EK', 'A7799DX', 'A7694EK', 'A8784AY', 'A7132DM', 'A8670EK', 'A8198CA', 'A7138DK', 'A7343DV', 'A7272EG', 'A9472AZ', 'A6403AY', 'A7813CC', 'A6627EK', 'A6636EK', 'A7066AC', 'A8536CK', 'A9732AX', 'A8299AQ', 'A8712CY', 'A6028AL', 'A6056AL', 'A6181CE', 'A7565CF', 'A9092CH', 'A6156DY', 'A7585EE', 'A6350DL', 'A8095AT', 'A7690AC', 'A6483AK', 'A9167DY', 'A7447AC', 'A9933EK', 'A8114ED', 'A7386CA', 'A8409DV', 'A7865AY', 'A7050AL', 'A6122ED', 'A6188AK', 'A6007AD', 'A7798EH', 'A7499EJ', 'A9947EG', 'A7246AC', 'A9408EH', 'A7910EJ', 'A6431CD', 'A9290EK', 'A9928AA', 'A7496EJ', 'A9158EK', 'A6740EH', 'A7009AD', 'A7913DR', 'A9369AJ', 'A9745EA', 'A7324DQ', 'A9018DE', 'A9754EK', 'A7741EJ', 'A7313EJ', 'A7967EK', 'A9830AR', 'A7643EH', 'A7641EH', 'A8313EK', 'A6720DM', 'A8643DY', 'A6174EK', 'A9643AH', 'A7525DQ', 'A8671AH', 'A8853AC', 'A9558DE', 'A9654AC', 'A6256DY', 'A6443EA'))), dataset_ AS (SELECT OFFENDER_ID_DISPLAY, BOOKING_STATUS, AGENCY_INCIDENT_ID, DEMOGRAPHICS.LAST_NAME AS V_LAST_NAME, DEMOGRAPHICS.UNIT_DESCRIPTION_4_SHORT AS V_LOCATION, 'TBD' AS V_FIRST_ADMISSION, 'TBD' AS V_NULL_ADJS_PER_PRISONER, 'TBD' AS V_NULL_PROVE_CHARGES FROM dataset_base_)",
      "parameters": [],
      "schema": {
        "field": [
          {
            "index": 0,
            "name": "OFFENDER_ID_DISPLAY",
            "type": "string",
            "display": "NOMS Number",
            "legacyId": "DP4.DO10044",
            "legacySqlClass": "column"
          },
          {
            "index": 1,
            "name": "BOOKING_STATUS",
            "type": "string",
            "display": "Booking Status",
            "legacyId": "DP4.DO10885",
            "legacySqlClass": "column"
          },
          {
            "index": 2,
            "name": "AGENCY_INCIDENT_ID",
            "type": "double",
            "display": "Report Number",
            "legacyId": "DP4.DO617",
            "legacySqlClass": "column"
          },
          {
            "index": 3,
            "name": "V_LAST_NAME",
            "type": "string",
            "display": "V_LAST_NAME",
            "legacyId": "???",
            "legacySqlClass": "alias"
          },
          {
            "index": 4,
            "name": "V_LOCATION",
            "type": "string",
            "display": "V_LOCATION",
            "legacyId": "???",
            "legacySqlClass": "alias"
          },
          {
            "index": 5,
            "name": "V_FIRST_ADMISSION",
            "type": "string",
            "display": "V_FIRST_ADMISSION",
            "legacyId": "???",
            "legacySqlClass": "alias"
          },
          {
            "index": 6,
            "name": "V_NULL_ADJS_PER_PRISONER",
            "type": "string",
            "display": "V_NULL_ADJS_PER_PRISONER",
            "legacyId": "???",
            "legacySqlClass": "alias"
          },
          {
            "index": 7,
            "name": "V_NULL_PROVE_CHARGES",
            "type": "string",
            "display": "V_NULL_PROVE_CHARGES",
            "legacyId": "???",
            "legacySqlClass": "alias"
          }
        ]
      }
    },
    {
      "id": "3377299/DPb",
      "name": "Movements",
      "description": "Demographic",
      "datasource": "nomis",
      "query": "dataset_base_ AS (SELECT AT_OFFENDER_EXTERNAL_MOVEMENTS.MOVEMENT_DATE, AT_OFFENDER.OFFENDER_ID_DISPLAY FROM OMS_OWNER.OFFENDERS AT_OFFENDER, OMS_OWNER.REFERENCE_CODES AT_MOV_TYPE_DESC, OMS_OWNER.OFFENDER_BOOKINGS AT_OFFENDER_BOOKING, OMS_OWNER.OFFENDER_EXTERNAL_MOVEMENTS AT_OFFENDER_EXTERNAL_MOVEMENTS WHERE (AT_OFFENDER.OFFENDER_ID = AT_OFFENDER_BOOKING.OFFENDER_ID) AND (AT_OFFENDER_BOOKING.OFFENDER_BOOK_ID = AT_OFFENDER_EXTERNAL_MOVEMENTS.OFFENDER_BOOK_ID (+)) AND (AT_MOV_TYPE_DESC.CODE (+) = AT_OFFENDER_EXTERNAL_MOVEMENTS.MOVEMENT_TYPE) AND (AT_MOV_TYPE_DESC.DOMAIN (+) = ('MOVE_TYPE')) AND ((AT_OFFENDER.OFFENDER_ID_DISPLAY IN ('A7057EK', 'A6047EK', 'A7330DF', 'A7061EG', 'A8801DV', 'A6324AK', 'A8929DX', 'A8406AX', 'A6067EK', 'A8394EK', 'A6535AE', 'A6405CV', 'A6044EK', 'A8145EJ', 'A9175DY', 'A6533DZ', 'A7666EK', 'A7659EK', 'A9034DG', 'A6720ED', 'A9543AC', 'A8872CC', 'A7187AL', 'A7866EK', 'A6922AP', 'A8383EJ', 'A7728DC', 'A6281EH', 'A9276EK', 'A9347AQ', 'A8238EJ', 'A6270EH', 'A6169EJ', 'A6521EJ', 'A9402AK', 'A6398DD', 'A6069EC', 'A7484DY', 'A9985AT', 'A8285EJ', 'A9489EH', 'A6523DK', 'A6437EJ', 'A6997EH', 'A6094CR', 'A9123AD', 'A6378EJ', 'A9076EK', 'A6489DP', 'A8835AF', 'A8939EH', 'A7646EK', 'A9734CN', 'A8321EK', 'A7963AC', 'A7428DY', 'A6124CC', 'A7348DK', 'A9112AZ', 'A9171AK', 'A6205DL', 'A8996EJ', 'A8567EK', 'A7058EK', 'A8858AV', 'A6609EJ', 'A8661EJ', 'A7090CJ', 'A6598CM', 'A8595EK', 'A7799DX', 'A7694EK', 'A8784AY', 'A7132DM', 'A8670EK', 'A8198CA', 'A7138DK', 'A7343DV', 'A7272EG', 'A9472AZ', 'A6403AY', 'A7813CC', 'A6627EK', 'A6636EK', 'A7066AC', 'A8536CK', 'A9732AX', 'A8299AQ', 'A8712CY', 'A6028AL', 'A6056AL', 'A6181CE', 'A7565CF', 'A9092CH', 'A6156DY', 'A7585EE', 'A6350DL', 'A8095AT', 'A7690AC', 'A6483AK', 'A9167DY', 'A7447AC', 'A9933EK', 'A8114ED', 'A7386CA', 'A8409DV', 'A7865AY', 'A7050AL', 'A6122ED', 'A6188AK', 'A6007AD', 'A7798EH', 'A7499EJ', 'A9947EG', 'A7246AC', 'A9408EH', 'A7910EJ', 'A6431CD', 'A9290EK', 'A9928AA', 'A7496EJ', 'A9158EK', 'A6740EH', 'A7009AD', 'A7913DR', 'A9369AJ', 'A9745EA', 'A7324DQ', 'A9018DE', 'A9754EK', 'A7741EJ', 'A7313EJ', 'A7967EK', 'A9830AR', 'A7643EH', 'A7641EH', 'A8313EK', 'A6720DM', 'A8643DY', 'A6174EK', 'A9643AH', 'A7525DQ', 'A8671AH', 'A8853AC', 'A9558DE', 'A9654AC', 'A6256DY', 'A6443EA') OR AT_OFFENDER.OFFENDER_ID_DISPLAY IN ('A0573AW', 'A2437EH', 'A2736EJ', 'A2732EJ', 'A2725EJ', 'A5069AX', 'A5979AX', 'A4665CC', 'A0779AQ', 'A2835AV', 'A5489AV', 'A5261AK', 'A5944EK', 'A2869EG', 'A5414AK', 'A5525DC', 'A3486AL', 'A4310EK', 'A3928DV', 'A1915CY', 'A4809AZ', 'A5447CL', 'A2199EH', 'A0570EH', 'A5311CX', 'A0047AH', 'A3583AZ', 'A1797EK', 'A4510AZ', 'A4114EK', 'A4576EJ', 'A3514EG', 'A0309EG', 'A0898EK', 'A1092AK', 'A1173AA', 'A5727CA', 'A3551EJ', 'A0174EK', 'A5790EJ', 'A5775DM', 'A5569AW', 'A2238EJ', 'A2240EJ', 'A2473DF', 'A4068ED', 'A3998DC', 'A2637EK', 'A2633EK', 'A1816EK', 'A5770DT', 'A1655DM', 'A2241EJ', 'A2731AW', 'A5471AK', 'A2356CF', 'A3628CE', 'A5294CX', 'A4688EK', 'A5460DT', 'A1929EK', 'A5508DC', 'A3374EJ', 'A4338DY', 'A5718EK', 'A0469EF', 'A5432EJ', 'A2474CD', 'A1877AV', 'A3472AE', 'A0017EL', 'A5951AK', 'A1485EJ', 'A4329DL', 'A5980DC', 'A4804DP', 'A1475DE', 'A4275DT', 'A5584CK', 'A0584AK', 'A2426AA', 'A2838EK', 'A1269AQ', 'A3048AP', 'A1267EJ', 'A3858AM', 'A2449EK', 'A1216AX', 'A0316EG', 'A0925AQ', 'A1512CV', 'A5304AD', 'A0411DG', 'A1641AL', 'A1270EH', 'A2879EH', 'A5956AP', 'A2312DR', 'A0063CE', 'A1616AL', 'A4767CK', 'A2784CF', 'A1119CP', 'A3327CC', 'A0793AM', 'A4608DX', 'A2071DE', 'A1326CD', 'A0183AJ', 'A1576CQ', 'A2089AL', 'A3328AJ', 'A0382CF', 'A4623CR', 'A4304DH', 'A1914AV', 'A5796CQ', 'A3475CJ', 'A2912AM', 'A4034AG', 'A5415AN', 'A2898AH', 'A3741DR', 'A0277DH', 'A2465AL', 'A1786AM', 'A2612AN', 'A2598AL', 'A3020CK', 'A5935EK', 'A4714EH', 'A3884CD', 'A5520AK', 'A3790DE', 'A5898EH', 'A2747AL', 'A0944DC', 'A4782EE', 'A2105EJ', 'A0086EL', 'A3164CF', 'A2925AV', 'A5201AM', 'A5201AP', 'A2519AX', 'A2419AK', 'A4117EA', 'A5374CC', 'A4816AM', 'A0327DZ', 'A2524CN', 'A3209CN', 'A4927CD', 'A1466DX', 'A2612EK', 'A0657AL', 'A2727EJ', 'A1663DF', 'A4413EK', 'A4635CG', 'A1737AL', 'A3848AW', 'A1888AT', 'A5346DW', 'A4303ED', 'A0358CF', 'A3414CQ', 'A5955DV', 'A4114CZ', 'A4607DZ', 'A0437AL', 'A4524AM', 'A0224DM', 'A1347EK', 'A0548DR', 'A3687DM', 'A1596DN', 'A4681CX', 'A2393EK', 'A2818EC', 'A3288DM', 'A4832AR', 'A3294DL', 'A3906EH', 'A0004AP', 'A4292AC', 'A3766DG', 'A3366EK', 'A3363EK', 'A1436EK', 'A0156EK', 'A2224DX', 'A3166EK', 'A2570CD', 'A4622AP', 'A3451AV', 'A1946DG', 'A5904EJ', 'A3400ED', 'A0200AW', 'A5951EK', 'A0332AM', 'A2494CA', 'A5179AK', 'A5322AJ', 'A3220AL', 'A4906EH', 'A3931CY', 'A3387CH', 'A0619AR', 'A2929CZ', 'A4965EJ', 'A0039EL', 'A0322DG')) AND AT_OFFENDER_EXTERNAL_MOVEMENTS.DIRECTION_CODE = 'IN' AND AT_MOV_TYPE_DESC.DESCRIPTION IN ('Admission'))), dataset_ AS (SELECT MOVEMENT_DATE, OFFENDER_ID_DISPLAY FROM dataset_base_)",
      "parameters": [],
      "schema": {
        "field": [
          {
            "index": 0,
            "name": "MOVEMENT_DATE",
            "type": "date",
            "display": "Movement Date",
            "legacyId": "DPb.DO837",
            "legacySqlClass": "column"
          },
          {
            "index": 1,
            "name": "OFFENDER_ID_DISPLAY",
            "type": "string",
            "display": "NOMS Number",
            "legacyId": "DPb.DO44",
            "legacySqlClass": "column"
          }
        ]
      }
    },
    {
      "id": "3375850/DPe",
      "name": "Finding",
      "description": "Incidents",
      "datasource": "nomis",
      "query": "dataset_base_ AS (SELECT AT_OFFENDER.OFFENDER_ID_DISPLAY, AT_OFFENDER_BOOKING.BOOKING_STATUS, AT_OIC_HEARING_RESULTS2.FINDING_CODE, AT_AGENCY_INCIDENTS.AGENCY_INCIDENT_ID, OMS_OWNER_OIC_HEARINGS3.OIC_INCIDENT_ID FROM OMS_OWNER.OFFENDERS AT_OFFENDER, OMS_OWNER.OFFENDER_BOOKINGS AT_OFFENDER_BOOKING, OMS_OWNER.OIC_HEARING_RESULTS AT_OIC_HEARING_RESULTS2, OMS_OWNER.AGENCY_INCIDENTS AT_AGENCY_INCIDENTS, OMS_OWNER.OIC_HEARINGS OMS_OWNER_OIC_HEARINGS3, OMS_OWNER.AGENCY_INCIDENT_CHARGES AT_AGENCY_INCIDENT_CHARGES, OMS_OWNER.AGENCY_INCIDENT_PARTIES AT_AGENCY_INCIDENT_PARTIES WHERE (AT_AGENCY_INCIDENT_PARTIES.OFFENDER_BOOK_ID = AT_OFFENDER_BOOKING.OFFENDER_BOOK_ID) AND (AT_AGENCY_INCIDENTS.AGENCY_INCIDENT_ID = AT_AGENCY_INCIDENT_PARTIES.AGENCY_INCIDENT_ID) AND (AT_AGENCY_INCIDENT_PARTIES.AGENCY_INCIDENT_ID = AT_AGENCY_INCIDENT_CHARGES.AGENCY_INCIDENT_ID AND AT_AGENCY_INCIDENT_PARTIES.PARTY_SEQ = AT_AGENCY_INCIDENT_CHARGES.PARTY_SEQ) AND (SUBSTR(AT_AGENCY_INCIDENT_CHARGES.OIC_CHARGE_ID, 1, (INSTR(AT_AGENCY_INCIDENT_CHARGES.oic_charge_id, '/') - 1)) = OMS_OWNER_OIC_HEARINGS3.OIC_INCIDENT_ID) AND (OMS_OWNER_OIC_HEARINGS3.OIC_HEARING_ID = AT_OIC_HEARING_RESULTS2.OIC_HEARING_ID (+)) AND (AT_OFFENDER.OFFENDER_ID = AT_OFFENDER_BOOKING.OFFENDER_ID) AND (AT_OFFENDER.OFFENDER_ID_DISPLAY IN ('A0573AW', 'A2437EH', 'A2736EJ', 'A2732EJ', 'A2725EJ', 'A5069AX', 'A5979AX', 'A4665CC', 'A0779AQ', 'A2835AV', 'A5489AV', 'A5261AK', 'A5944EK', 'A2869EG', 'A5414AK', 'A5525DC', 'A3486AL', 'A4310EK', 'A3928DV', 'A1915CY', 'A4809AZ', 'A5447CL', 'A2199EH', 'A0570EH', 'A5311CX', 'A0047AH', 'A3583AZ', 'A1797EK', 'A4510AZ', 'A4114EK', 'A4576EJ', 'A3514EG', 'A0309EG', 'A0898EK', 'A1092AK', 'A1173AA', 'A5727CA', 'A3551EJ', 'A0174EK', 'A5790EJ', 'A5775DM', 'A5569AW', 'A2238EJ', 'A2240EJ', 'A2473DF', 'A4068ED', 'A3998DC', 'A2637EK', 'A2633EK', 'A1816EK', 'A5770DT', 'A1655DM', 'A2241EJ', 'A2731AW', 'A5471AK', 'A2356CF', 'A3628CE', 'A5294CX', 'A4688EK', 'A5460DT', 'A1929EK', 'A5508DC', 'A3374EJ', 'A4338DY', 'A5718EK', 'A0469EF', 'A5432EJ', 'A2474CD', 'A1877AV', 'A3472AE', 'A0017EL', 'A5951AK', 'A1485EJ', 'A4329DL', 'A5980DC', 'A4804DP', 'A1475DE', 'A4275DT', 'A5584CK', 'A0584AK', 'A2426AA', 'A2838EK', 'A1269AQ', 'A3048AP', 'A1267EJ', 'A3858AM', 'A2449EK', 'A1216AX', 'A0316EG', 'A0925AQ', 'A1512CV', 'A5304AD', 'A0411DG', 'A1641AL', 'A1270EH', 'A2879EH', 'A5956AP', 'A2312DR', 'A0063CE', 'A1616AL', 'A4767CK', 'A2784CF', 'A1119CP', 'A3327CC', 'A0793AM', 'A4608DX', 'A2071DE', 'A1326CD', 'A0183AJ', 'A1576CQ', 'A2089AL', 'A3328AJ', 'A0382CF', 'A4623CR', 'A4304DH', 'A1914AV', 'A5796CQ', 'A3475CJ', 'A2912AM', 'A4034AG', 'A5415AN', 'A2898AH', 'A3741DR', 'A0277DH', 'A2465AL', 'A1786AM', 'A2612AN', 'A2598AL', 'A3020CK', 'A5935EK', 'A4714EH', 'A3884CD', 'A5520AK', 'A3790DE', 'A5898EH', 'A2747AL', 'A0944DC', 'A4782EE', 'A2105EJ', 'A0086EL', 'A3164CF', 'A2925AV', 'A5201AM', 'A5201AP', 'A2519AX', 'A2419AK', 'A4117EA', 'A5374CC', 'A4816AM', 'A0327DZ', 'A2524CN', 'A3209CN', 'A4927CD', 'A1466DX', 'A2612EK', 'A0657AL', 'A2727EJ', 'A1663DF', 'A4413EK', 'A4635CG', 'A1737AL', 'A3848AW', 'A1888AT', 'A5346DW', 'A4303ED', 'A0358CF', 'A3414CQ', 'A5955DV', 'A4114CZ', 'A4607DZ', 'A0437AL', 'A4524AM', 'A0224DM', 'A1347EK', 'A0548DR', 'A3687DM', 'A1596DN', 'A4681CX', 'A2393EK', 'A2818EC', 'A3288DM', 'A4832AR', 'A3294DL', 'A3906EH', 'A0004AP', 'A4292AC', 'A3766DG', 'A3366EK', 'A3363EK', 'A1436EK', 'A0156EK', 'A2224DX', 'A3166EK', 'A2570CD', 'A4622AP', 'A3451AV', 'A1946DG', 'A5904EJ', 'A3400ED', 'A0200AW', 'A5951EK', 'A0332AM', 'A2494CA', 'A5179AK', 'A5322AJ', 'A3220AL', 'A4906EH', 'A3931CY', 'A3387CH', 'A0619AR', 'A2929CZ', 'A4965EJ', 'A0039EL', 'A0322DG') OR AT_OFFENDER.OFFENDER_ID_DISPLAY IN ('A7057EK', 'A6047EK', 'A7330DF', 'A7061EG', 'A8801DV', 'A6324AK', 'A8929DX', 'A8406AX', 'A6067EK', 'A8394EK', 'A6535AE', 'A6405CV', 'A6044EK', 'A8145EJ', 'A9175DY', 'A6533DZ', 'A7666EK', 'A7659EK', 'A9034DG', 'A6720ED', 'A9543AC', 'A8872CC', 'A7187AL', 'A7866EK', 'A6922AP', 'A8383EJ', 'A7728DC', 'A6281EH', 'A9276EK', 'A9347AQ', 'A8238EJ', 'A6270EH', 'A6169EJ', 'A6521EJ', 'A9402AK', 'A6398DD', 'A6069EC', 'A7484DY', 'A9985AT', 'A8285EJ', 'A9489EH', 'A6523DK', 'A6437EJ', 'A6997EH', 'A6094CR', 'A9123AD', 'A6378EJ', 'A9076EK', 'A6489DP', 'A8835AF', 'A8939EH', 'A7646EK', 'A9734CN', 'A8321EK', 'A7963AC', 'A7428DY', 'A6124CC', 'A7348DK', 'A9112AZ', 'A9171AK', 'A6205DL', 'A8996EJ', 'A8567EK', 'A7058EK', 'A8858AV', 'A6609EJ', 'A8661EJ', 'A7090CJ', 'A6598CM', 'A8595EK', 'A7799DX', 'A7694EK', 'A8784AY', 'A7132DM', 'A8670EK', 'A8198CA', 'A7138DK', 'A7343DV', 'A7272EG', 'A9472AZ', 'A6403AY', 'A7813CC', 'A6627EK', 'A6636EK', 'A7066AC', 'A8536CK', 'A9732AX', 'A8299AQ', 'A8712CY', 'A6028AL', 'A6056AL', 'A6181CE', 'A7565CF', 'A9092CH', 'A6156DY', 'A7585EE', 'A6350DL', 'A8095AT', 'A7690AC', 'A6483AK', 'A9167DY', 'A7447AC', 'A9933EK', 'A8114ED', 'A7386CA', 'A8409DV', 'A7865AY', 'A7050AL', 'A6122ED', 'A6188AK', 'A6007AD', 'A7798EH', 'A7499EJ', 'A9947EG', 'A7246AC', 'A9408EH', 'A7910EJ', 'A6431CD', 'A9290EK', 'A9928AA', 'A7496EJ', 'A9158EK', 'A6740EH', 'A7009AD', 'A7913DR', 'A9369AJ', 'A9745EA', 'A7324DQ', 'A9018DE', 'A9754EK', 'A7741EJ', 'A7313EJ', 'A7967EK', 'A9830AR', 'A7643EH', 'A7641EH', 'A8313EK', 'A6720DM', 'A8643DY', 'A6174EK', 'A9643AH', 'A7525DQ', 'A8671AH', 'A8853AC', 'A9558DE', 'A9654AC', 'A6256DY', 'A6443EA'))), dataset_ AS (SELECT OFFENDER_ID_DISPLAY, BOOKING_STATUS, FINDING_CODE, AGENCY_INCIDENT_ID, OIC_INCIDENT_ID FROM dataset_base_)",
      "parameters": [],
      "schema": {
        "field": [
          {
            "index": 0,
            "name": "OFFENDER_ID_DISPLAY",
            "type": "string",
            "display": "NOMS Number",
            "legacyId": "DPe.DO10044",
            "legacySqlClass": "column"
          },
          {
            "index": 1,
            "name": "BOOKING_STATUS",
            "type": "string",
            "display": "Booking Status",
            "legacyId": "DPe.DO10885",
            "legacySqlClass": "column"
          },
          {
            "index": 2,
            "name": "FINDING_CODE",
            "type": "string",
            "display": "Finding (all hearings)",
            "legacyId": "DPe.DO65a",
            "legacySqlClass": "column"
          },
          {
            "index": 3,
            "name": "AGENCY_INCIDENT_ID",
            "type": "double",
            "display": "Report Number",
            "legacyId": "DPe.DO617",
            "legacySqlClass": "column"
          },
          {
            "index": 4,
            "name": "OIC_INCIDENT_ID",
            "type": "double",
            "display": "Adjudication Number (all hearings)",
            "legacyId": "DPe.DO657",
            "legacySqlClass": "column"
          }
        ]
      }
    }
  ],
  "policy": [
    {
      "id": "access",
      "type": "access",
      "rule": [
        {
          "effect": "permit",
          "condition": [
            {
              "match": [
                "${role}",
                "ROLE_PRISONS_REPORTING_USER"
              ]
            }
          ]
        }
      ]
    }
  ],
  "report": [
    {
      "id": "166919.RS",
      "name": "By Last Name",
      "classification": "OFFICIAL",
      "version": "1.0.0",
      "render": "HTML",
      "dataset": "3375850/DP4",
      "feature": [
        {
          "type": "print"
        }
      ],
      "specification": {
        "template": "list",
        "field": [
          {
            "name": "$ref:OFFENDER_ID_DISPLAY",
            "display": "NOMS Number",
            "formula": "",
            "visible": "true",
            "sortable": false,
            "defaultsort": false,
            "legacyId": "DP4.DO10044"
          },
          {
            "name": "$ref:V_LAST_NAME",
            "display": "Last Name",
            "formula": "",
            "visible": "true",
            "sortable": false,
            "defaultsort": false,
            "legacySql": "=[Demographics].[Last Name]"
          },
          {
            "name": "$ref:V_LOCATION",
            "display": "Location",
            "formula": "",
            "visible": "true",
            "sortable": false,
            "defaultsort": false,
            "legacySql": "=[Demographics].[Unit Description 4 Short]"
          },
          {
            "name": "$ref:V_FIRST_ADMISSION",
            "display": "First Admission Date - All Bookings",
            "formula": "",
            "visible": "true",
            "sortable": false,
            "defaultsort": false,
            "legacySql": "=Min([Movement Date]) ForEach ([NOMS Number])"
          },
          {
            "name": "$ref:V_NULL_ADJS_PER_PRISONER",
            "display": "No.Of Adjs - All Bookings",
            "formula": "",
            "visible": "true",
            "sortable": false,
            "defaultsort": false,
            "legacySql": "=If(IsNull([v_Count_ADJS]);0;[v_Count_ADJS]) In ([NOMS Number])"
          },
          {
            "name": "$ref:V_NULL_PROVE_CHARGES",
            "display": "No. Of Proven Charges",
            "formula": "",
            "visible": "true",
            "sortable": false,
            "defaultsort": false,
            "legacySql": "=If(IsNull([v_Sum_Proven_Charges]);0;[v_Sum_Proven_Charges]) In ([NOMS Number])"
          }
        ]
      }
    },
    {
      "id": "170913.RS",
      "name": "By No. of Adjs",
      "classification": "OFFICIAL",
      "version": "1.0.0",
      "render": "HTML",
      "dataset": "3375850/DP4",
      "feature": [
        {
          "type": "print"
        }
      ],
      "specification": {
        "template": "list",
        "field": [
          {
            "name": "$ref:OFFENDER_ID_DISPLAY",
            "display": "NOMS Number",
            "formula": "",
            "visible": "true",
            "sortable": false,
            "defaultsort": false,
            "legacyId": "DP4.DO10044"
          },
          {
            "name": "$ref:V_LAST_NAME",
            "display": "Last Name",
            "formula": "",
            "visible": "true",
            "sortable": false,
            "defaultsort": false,
            "legacySql": "=[Demographics].[Last Name]"
          },
          {
            "name": "$ref:V_LOCATION",
            "display": "Location",
            "formula": "",
            "visible": "true",
            "sortable": false,
            "defaultsort": false,
            "legacySql": "=[Demographics].[Unit Description 4 Short]"
          },
          {
            "name": "$ref:V_FIRST_ADMISSION",
            "display": "First Admission Date - All Bookings",
            "formula": "",
            "visible": "true",
            "sortable": false,
            "defaultsort": false,
            "legacySql": "=Min([Movement Date]) ForEach ([NOMS Number])"
          },
          {
            "name": "$ref:V_NULL_ADJS_PER_PRISONER",
            "display": "No.Of Adjs - All Bookings",
            "formula": "",
            "visible": "true",
            "sortable": false,
            "defaultsort": false,
            "legacySql": "=If(IsNull([v_Count_ADJS]);0;[v_Count_ADJS]) In ([NOMS Number])"
          },
          {
            "name": "$ref:V_NULL_PROVE_CHARGES",
            "display": "No. Of Proven Charges",
            "formula": "",
            "visible": "true",
            "sortable": false,
            "defaultsort": false,
            "legacySql": "=If(IsNull([v_Sum_Proven_Charges]);0;[v_Sum_Proven_Charges]) In ([NOMS Number])"
          }
        ]
      }
    },
    {
      "id": "171202.RS",
      "name": "By No. of Proven Charges",
      "classification": "OFFICIAL",
      "version": "1.0.0",
      "render": "HTML",
      "dataset": "3375850/DP4",
      "feature": [
        {
          "type": "print"
        }
      ],
      "specification": {
        "template": "list",
        "field": [
          {
            "name": "$ref:OFFENDER_ID_DISPLAY",
            "display": "NOMS Number",
            "formula": "",
            "visible": "true",
            "sortable": false,
            "defaultsort": false,
            "legacyId": "DP4.DO10044"
          },
          {
            "name": "$ref:V_LAST_NAME",
            "display": "Last Name",
            "formula": "",
            "visible": "true",
            "sortable": false,
            "defaultsort": false,
            "legacySql": "=[Demographics].[Last Name]"
          },
          {
            "name": "$ref:V_LOCATION",
            "display": "Location",
            "formula": "",
            "visible": "true",
            "sortable": false,
            "defaultsort": false,
            "legacySql": "=[Demographics].[Unit Description 4 Short]"
          },
          {
            "name": "$ref:V_FIRST_ADMISSION",
            "display": "First Admission Date - All Bookings",
            "formula": "",
            "visible": "true",
            "sortable": false,
            "defaultsort": false,
            "legacySql": "=Min([Movement Date]) ForEach ([NOMS Number])"
          },
          {
            "name": "$ref:V_NULL_ADJS_PER_PRISONER",
            "display": "No.Of Adjs - All Bookings",
            "formula": "",
            "visible": "true",
            "sortable": false,
            "defaultsort": false,
            "legacySql": "=If(IsNull([v_Count_ADJS]);0;[v_Count_ADJS]) In ([NOMS Number])"
          },
          {
            "name": "$ref:V_NULL_PROVE_CHARGES",
            "display": "No. Of Proven Charges",
            "formula": "",
            "visible": "true",
            "sortable": false,
            "defaultsort": false,
            "legacySql": "=If(IsNull([v_Sum_Proven_Charges]);0;[v_Sum_Proven_Charges]) In ([NOMS Number])"
          }
        ]
      }
    },
    {
      "id": "167841.RS",
      "name": "Graph - Adj by Location",
      "classification": "OFFICIAL",
      "version": "1.0.0",
      "render": "HTML",
      "feature": [
        {
          "type": "print"
        }
      ],
      "specification": {
        "template": "list",
        "field": []
      },
      "dataset": "MISSING"
    },
    {
      "id": "168026.RS",
      "name": "Graph - Proven charges by Loc",
      "classification": "OFFICIAL",
      "version": "1.0.0",
      "render": "HTML",
      "feature": [
        {
          "type": "print"
        }
      ],
      "specification": {
        "template": "list",
        "field": []
      },
      "dataset": "MISSING"
    }
  ],
  "errors": [
    {
      "type": "enhanced",
      "error": "dataset::resolveCTEs parse error for : $ref:V_FIRST_ADMISSION :: Error: =Min([Movement Date]) ForEach ([NOMS Number]) ==> Error: Expected end of input but \"F\" found.\n at undefined:1:23",
      "entityId": "FhV.uV3ZIggArvMBAHBbWF81ACJIAAzC",
      "entityType": "dpd"
    },
    {
      "type": "enhanced",
      "error": "dataset::resolveCTEs parse error for : $ref:V_NULL_ADJS_PER_PRISONER :: Error: =If(IsNull([v_Count_ADJS]);0;[v_Count_ADJS]) In ([NOMS Number]) ==> Error: Expected end of input but \"I\" found.\n at undefined:1:46",
      "entityId": "FhV.uV3ZIggArvMBAHBbWF81ACJIAAzC",
      "entityType": "dpd"
    },
    {
      "type": "enhanced",
      "error": "dataset::resolveCTEs parse error for : $ref:V_NULL_PROVE_CHARGES :: Error: =If(IsNull([v_Sum_Proven_Charges]);0;[v_Sum_Proven_Charges]) In ([NOMS Number]) ==> Error: Expected end of input but \"I\" found.\n at undefined:1:62",
      "entityId": "FhV.uV3ZIggArvMBAHBbWF81ACJIAAzC",
      "entityType": "dpd"
    },
    {
      "type": "enhanced",
      "error": "dataset::injectCalculations parse error for : $ref:V_FIRST_ADMISSION :: Error: =Min([Movement Date]) ForEach ([NOMS Number]) ==> Error: Expected end of input but \"F\" found.\n at undefined:1:23",
      "entityId": "FhV.uV3ZIggArvMBAHBbWF81ACJIAAzC",
      "entityType": "dpd"
    },
    {
      "type": "enhanced",
      "error": "dataset::injectCalculations parse error for : $ref:V_NULL_ADJS_PER_PRISONER :: Error: =If(IsNull([v_Count_ADJS]);0;[v_Count_ADJS]) In ([NOMS Number]) ==> Error: Expected end of input but \"I\" found.\n at undefined:1:46",
      "entityId": "FhV.uV3ZIggArvMBAHBbWF81ACJIAAzC",
      "entityType": "dpd"
    },
    {
      "type": "enhanced",
      "error": "dataset::injectCalculations parse error for : $ref:V_NULL_PROVE_CHARGES :: Error: =If(IsNull([v_Sum_Proven_Charges]);0;[v_Sum_Proven_Charges]) In ([NOMS Number]) ==> Error: Expected end of input but \"I\" found.\n at undefined:1:62",
      "entityId": "FhV.uV3ZIggArvMBAHBbWF81ACJIAAzC",
      "entityType": "dpd"
    },
    {
      "type": "schema",
      "error": "instance.report[3] requires property \"dataset\"",
      "entityId": "FhV.uV3ZIggArvMBAHBbWF81ACJIAAzC",
      "entityType": "dpd"
    },
    {
      "type": "schema",
      "error": "instance.report[3].specification.template is not one of enum values: list,list-section,list-tab,summary,summary-section,parent-child",
      "entityId": "FhV.uV3ZIggArvMBAHBbWF81ACJIAAzC",
      "entityType": "dpd"
    },
    {
      "type": "schema",
      "error": "instance.report[4] requires property \"dataset\"",
      "entityId": "FhV.uV3ZIggArvMBAHBbWF81ACJIAAzC",
      "entityType": "dpd"
    },
    {
      "type": "schema",
      "error": "instance.report[4].specification.template is not one of enum values: list,list-section,list-tab,summary,summary-section,parent-child",
      "entityId": "FhV.uV3ZIggArvMBAHBbWF81ACJIAAzC",
      "entityType": "dpd"
    },
    {
      "type": "schema",
      "error": "Report Variant 167841.RS does not have corresponding dataset undefined",
      "entityId": "167841.RS",
      "entityType": "variant"
    },
    {
      "type": "schema",
      "error": "Report Variant 168026.RS does not have corresponding dataset undefined",
      "entityId": "168026.RS",
      "entityType": "variant"
    },
    {
      "type": "sqlQuery",
      "error": "Error: ORA-00904: \"DEMOGRAPHICS\".\"UNIT_DESCRIPTION_4_SHORT\": invalid identifier\nHelp: https://docs.oracle.com/error-help/db/ora-00904/",
      "entityId": "3375850/DP4",
      "entityType": "dataset"
    }
  ]
}