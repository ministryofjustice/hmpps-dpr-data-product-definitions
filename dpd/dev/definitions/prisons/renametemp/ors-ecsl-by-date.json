{
  "id": "Fg6Y6AG9rQgAVB8eAACXMoD.ACJIAGc1",
  "name": "ORS ECSL by date",
  "description": "This report returns details of Releases under ECSLL<br/>HQ0031 - v1.0 Last Modified: 24/10/2023",
  "metadata": {
    "version": "1.0.0",
    "tags": [
      "HQ0031 v1.0 ECSL Releases"
    ]
  },
  "datasource": [
    {
      "id": "nomis",
      "name": "NOMIS",
      "database": "DIGITAL_PRISON_REPORTING",
      "catalog": "nomis"
    }
  ],
  "dataset": [
    {
      "id": "3377299/DP3",
      "name": "ESCL Releases",
      "description": "OR - Demographics",
      "datasource": "nomis",
      "query": "DPd_ AS (SELECT DISTINCT AT_OFFENDER.OFFENDER_ID_DISPLAY, AT_OFFENDER_SENTENCES.SENTENCE_STATUS, AT_OFFENCES.DESCRIPTION, AT_OFFENDER_CHARGES.OFFENCE_CODE, AT_COURT_EVENT_CHARGES.OFFENCE_DATE, AT_OFFENCE_RESULT_CODES.CHARGE_STATUS, CASE WHEN DT_OFFENDER_LIFE_FLAG.LIFE_SENTENCE_FLAG = 'Y' THEN 'Life' ELSE AT_OFFENDER_SENT_CALCULATIONS.EFFECTIVE_SENTENCE_LENGTH END AS EFFECTIVE_SENTENCE_LENGTH, TO_NUMBER(SUBSTR(DT_SENTENCE_LENGTH.EFFECTIVE_SENTENCE_LENGTH, 1, 2)) || '    ' || TO_NUMBER(SUBSTR(DT_SENTENCE_LENGTH.EFFECTIVE_SENTENCE_LENGTH, 4, 2)) || '    ' || TO_NUMBER(SUBSTR(DT_SENTENCE_LENGTH.EFFECTIVE_SENTENCE_LENGTH, 7, 2)) AS SENTENCE_LENGTH_FORMATTED_, CASE WHEN AT_OFFENDER_SENTENCE_TERMS2.LIFE_SENTENCE_FLAG = 'Y' THEN 'Life' ELSE TO_CHAR(AT_OFFENDER_SENTENCE_TERMS2.YEARS) END AS SENTENCE_TERMS_YEARS, AT_OFFENDER_SENTENCES.CONSEC_TO_SENTENCE_SEQ, AT_OFFENDER_SENTENCE_TERMS2.SENTENCE_SEQ, CASE WHEN AT_OFFENDER_SENTENCE_TERMS2.LIFE_SENTENCE_FLAG = 'Y' THEN '' ELSE TO_CHAR(AT_OFFENDER_SENTENCE_TERMS2.MONTHS) END AS SENTENCE_TERMS_MONTHS, CASE WHEN AT_OFFENDER_SENTENCE_TERMS2.LIFE_SENTENCE_FLAG = 'Y' THEN '' ELSE TO_CHAR(AT_OFFENDER_SENTENCE_TERMS2.WEEKS) END AS SENTENCE_TERMS_WEEKS, CASE WHEN AT_OFFENDER_SENTENCE_TERMS2.LIFE_SENTENCE_FLAG = 'Y' THEN '' ELSE TO_CHAR(AT_OFFENDER_SENTENCE_TERMS2.DAYS) END AS SENTENCE_TERMS_DAYS, AT_SENT_ORDERS.COURT_DATE, COALESCE(AT_OFFENDER_SENT_CALCULATIONS.CRD_OVERRIDED_DATE, AT_OFFENDER_SENT_CALCULATIONS.CRD_CALCULATED_DATE) AS CRD_DATE, AT_COURT_EVENT_CHARGES.MOST_SERIOUS_FLAG FROM OMS_OWNER.COURT_EVENTS AT_OFFENDER_COURT_EVENTS, OMS_OWNER.OFFENDER_SENTENCES AT_OFFENDER_SENTENCES, OMS_OWNER.OFFENDERS AT_OFFENDER, OMS_OWNER.OFFENDER_SENT_CALCULATIONS AT_OFFENDER_SENT_CALCULATIONS, OMS_OWNER.OFFENDER_BOOKINGS AT_OFFENDER_BOOKING, OMS_OWNER.OFFENDER_EXTERNAL_MOVEMENTS AT_OFFENDER_EXTERNAL_MOVEMENTS, OMS_OWNER.OFFENCES AT_OFFENCES, OMS_OWNER.OFFENDER_CHARGES AT_OFFENDER_CHARGES, OMS_OWNER.COURT_EVENT_CHARGES AT_COURT_EVENT_CHARGES, OMS_OWNER.OFFENCE_RESULT_CODES AT_OFFENCE_RESULT_CODES, (SELECT DISTINCT OFFENDER_SENTENCE_TERMS.OFFENDER_BOOK_ID, OFFENDER_SENTENCE_TERMS.LIFE_SENTENCE_FLAG FROM OFFENDER_SENTENCE_TERMS WHERE OFFENDER_SENTENCE_TERMS.LIFE_SENTENCE_FLAG = 'Y') DT_OFFENDER_LIFE_FLAG, (SELECT MIN(A_OFFENDER_SENTENCES.START_DATE) AS SSD, COALESCE(A_OFFENDER_SENT_CALCULATIONS.SED_OVERRIDED_DATE, A_OFFENDER_SENT_CALCULATIONS.SED_CALCULATED_DATE) AS SED, A_OFFENDER_SENT_CALCULATIONS.EFFECTIVE_SENTENCE_LENGTH, A_OFFENDER_SENT_CALCULATIONS.OFFENDER_BOOK_ID AS OFFENDER_BOOK_ID FROM OFFENDER_SENTENCES A_OFFENDER_SENTENCES, OFFENDER_SENT_CALCULATIONS A_OFFENDER_SENT_CALCULATIONS WHERE A_OFFENDER_SENT_CALCULATIONS.OFFENDER_BOOK_ID = A_OFFENDER_SENTENCES.OFFENDER_BOOK_ID GROUP BY COALESCE(A_OFFENDER_SENT_CALCULATIONS.SED_OVERRIDED_DATE, A_OFFENDER_SENT_CALCULATIONS.SED_CALCULATED_DATE), EFFECTIVE_SENTENCE_LENGTH, A_OFFENDER_SENT_CALCULATIONS.OFFENDER_BOOK_ID) DT_SENTENCE_LENGTH, OMS_OWNER.OFFENDER_SENTENCE_TERMS AT_OFFENDER_SENTENCE_TERMS2, OMS_OWNER.ORDERS AT_SENT_ORDERS, OMS_OWNER.OFFENDER_CASES AT_OFFENDER_CASES WHERE (AT_COURT_EVENT_CHARGES.EVENT_ID (+) = AT_OFFENDER_COURT_EVENTS.EVENT_ID) AND (AT_OFFENDER_CHARGES.OFFENDER_CHARGE_ID (+) = AT_COURT_EVENT_CHARGES.OFFENDER_CHARGE_ID) AND (AT_OFFENCE_RESULT_CODES.RESULT_CODE (+) = AT_OFFENDER_COURT_EVENTS.OUTCOME_REASON_CODE) AND (AT_OFFENDER_COURT_EVENTS.CASE_ID = AT_OFFENDER_CASES.CASE_ID) AND (AT_OFFENDER_CHARGES.OFFENCE_CODE = AT_OFFENCES.OFFENCE_CODE (+)) AND (AT_OFFENDER.OFFENDER_ID = AT_OFFENDER_BOOKING.OFFENDER_ID) AND (AT_OFFENDER_BOOKING.OFFENDER_BOOK_ID = AT_OFFENDER_EXTERNAL_MOVEMENTS.OFFENDER_BOOK_ID (+)) AND (AT_OFFENDER_BOOKING.OFFENDER_BOOK_ID = AT_OFFENDER_CASES.OFFENDER_BOOK_ID (+)) AND (AT_OFFENDER_BOOKING.OFFENDER_BOOK_ID = AT_OFFENDER_SENT_CALCULATIONS.OFFENDER_BOOK_ID (+)) AND (AT_OFFENDER_SENTENCES.OFFENDER_BOOK_ID (+) = AT_OFFENDER_BOOKING.OFFENDER_BOOK_ID) AND (AT_OFFENDER_BOOKING.OFFENDER_BOOK_ID = DT_SENTENCE_LENGTH.OFFENDER_BOOK_ID (+)) AND (DT_OFFENDER_LIFE_FLAG.OFFENDER_BOOK_ID (+) = AT_OFFENDER_SENT_CALCULATIONS.OFFENDER_BOOK_ID) AND (AT_SENT_ORDERS.ORDER_ID = AT_OFFENDER_SENTENCES.ORDER_ID) AND (AT_OFFENDER_SENTENCE_TERMS2.OFFENDER_BOOK_ID = AT_OFFENDER_SENTENCES.OFFENDER_BOOK_ID) AND (AT_OFFENDER_SENTENCE_TERMS2.SENTENCE_SEQ = AT_OFFENDER_SENTENCES.SENTENCE_SEQ) AND (AT_OFFENDER_SENTENCES.SENTENCE_CATEGORY <> 'LICENCE' AND NOT AT_OFFENDER_SENTENCES.SENTENCE_CALC_TYPE LIKE '%AGG%') AND (AT_OFFENDER_EXTERNAL_MOVEMENTS.MOVEMENT_REASON_CODE = 'ECSL' AND TRUNC(AT_OFFENDER_EXTERNAL_MOVEMENTS.MOVEMENT_DATE) BETWEEN TO_DATE('23-10-2023 00:00:00', 'DD-MM-YYYY HH24:MI:SS') AND TO_DATE('23-10-2023 00:00:00', 'DD-MM-YYYY HH24:MI:SS') AND TRUNC(AT_OFFENDER_EXTERNAL_MOVEMENTS.MOVEMENT_DATE) <= TRUNC(CURRENT_TIMESTAMP) AND (AT_OFFENDER_EXTERNAL_MOVEMENTS.FROM_AGY_LOC_ID IN ('All') OR 'All' IN ('All')) AND AT_OFFENDER_EXTERNAL_MOVEMENTS.DIRECTION_CODE = 'OUT' AND (AT_OFFENDER_SENT_CALCULATIONS.OFFENDER_SENT_CALCULATION_ID = (SELECT MAX(A.OFFENDER_SENT_CALCULATION_ID) FROM OMS_OWNER.OFFENDER_SENT_CALCULATIONS A WHERE AT_OFFENDER_SENT_CALCULATIONS.OFFENDER_BOOK_ID = A.OFFENDER_BOOK_ID)) AND AT_OFFENDER_SENTENCES.SENTENCE_STATUS = 'A' AND AT_OFFENDER_CASES.CASE_STATUS = 'A')), dataset_base_ AS (SELECT DISTINCT AT_OFFENDER.OFFENDER_ID_DISPLAY, AT_OFFENDER.LAST_NAME, AT_OFFENDER.FIRST_NAME, AT_OFFENDER_EXTERNAL_MOVEMENTS.MOVEMENT_DATE, AT_OFFENDER_EXTERNAL_MOVEMENTS.MOVEMENT_TIME, AT_MOV_TYPE_DESC.CODE, COALESCE(AT_EXT_MOV_FROM_AGY.DESCRIPTION, AT_FROM_CITY_CODES.DESCRIPTION, AT_FROM_ADDRESS_ATTENDED.STREET || ' ' || AT_FROM_ADDRESS_ATTENDED.LOCALITY || ' ' || AT_FROM_ADDRESS_ATTENDED.POSTAL_CODE) AS FROM_, COALESCE(AT_EXT_MOV_TO_AGY.DESCRIPTION, AT_TO_CITY_CODES.DESCRIPTION, AT_TO_ADDRESS_ATTENDED.STREET || ' ' || AT_TO_ADDRESS_ATTENDED.LOCALITY || ' ' || AT_TO_ADDRESS_ATTENDED.POSTAL_CODE) AS TO_, AT_OFFENDER_EXTERNAL_MOVEMENTS.COMMENT_TEXT, AT_OFFENDER.BIRTH_DATE, AT_OFFENDER_BOOKING.BOOKING_NO, AT_OFFENDER_PNC.IDENTIFIER, AT_OFFENDER_RELIGION.PROFILE_CODE, AT_OFFENDER_BOOKING.OFFENDER_BOOK_ID, AT_NATIONALITY.PROFILE_CODE AS NATIONALITY_CODE, CASE WHEN AT_OFFENDER.RACE_CODE = 'W8' THEN 'W3' WHEN AT_OFFENDER.RACE_CODE = 'O1' THEN 'A4' ELSE AT_OFFENDER.RACE_CODE END AS ETHNIC_CODE, AT_OFFENDER_CRO.IDENTIFIER AS CRO_NUMBER, AT_NATIONALITY.DESCRIPTION, CASE WHEN AT_ETHNICITY_DESC.CODE = 'W8' THEN 'White: Gypsy or Irish Traveller' WHEN AT_ETHNICITY_DESC.CODE = 'O1' THEN 'Asian/Asian British: Chinese' ELSE AT_ETHNICITY_DESC.DESCRIPTION END AS ETHNIC_DESC_, AT_RELIGION.DESCRIPTION AS RELIGION_DESCRIPTION, DPd_.CRD_DATE FROM OMS_OWNER.OFFENDERS AT_OFFENDER, OMS_OWNER.REFERENCE_CODES AT_MOV_TYPE_DESC, OMS_OWNER.REFERENCE_CODES AT_FROM_CITY_CODES, OMS_OWNER.REFERENCE_CODES AT_TO_CITY_CODES, OMS_OWNER.REFERENCE_CODES AT_ETHNICITY_DESC, OMS_OWNER.OFFENDER_BOOKINGS AT_OFFENDER_BOOKING, OMS_OWNER.AGENCY_LOCATIONS AT_EXT_MOV_FROM_AGY, OMS_OWNER.AGENCY_LOCATIONS AT_EXT_MOV_TO_AGY, OMS_OWNER.OFFENDER_EXTERNAL_MOVEMENTS AT_OFFENDER_EXTERNAL_MOVEMENTS, OMS_OWNER.OFFENDER_PROFILE_DETAILS AT_OFFENDER_RELIGION, OMS_OWNER.OFFENDER_PROFILE_DETAILS AT_OFF_PROF_DET_NAT, ADDRESSES AT_FROM_ADDRESS_ATTENDED, ADDRESSES AT_TO_ADDRESS_ATTENDED, OMS_OWNER.OFFENDER_IDENTIFIERS AT_OFFENDER_PNC, OMS_OWNER.PROFILE_CODES AT_NATIONALITY, OMS_OWNER.OFFENDER_IDENTIFIERS AT_OFFENDER_CRO, OMS_OWNER.PROFILE_CODES AT_RELIGION, DPd_ WHERE ((AT_OFFENDER.OFFENDER_ID = AT_OFFENDER_BOOKING.OFFENDER_ID) AND (AT_OFFENDER_BOOKING.OFFENDER_BOOK_ID = AT_OFFENDER_EXTERNAL_MOVEMENTS.OFFENDER_BOOK_ID) AND (AT_ETHNICITY_DESC.DOMAIN = 'ETHNICITY') AND (AT_ETHNICITY_DESC.CODE = AT_OFFENDER.RACE_CODE) AND (AT_OFFENDER_RELIGION.OFFENDER_BOOK_ID = AT_OFFENDER_BOOKING.OFFENDER_BOOK_ID) AND (AT_OFFENDER_RELIGION.PROFILE_TYPE = 'RELF') AND (AT_MOV_TYPE_DESC.CODE = AT_OFFENDER_EXTERNAL_MOVEMENTS.MOVEMENT_TYPE) AND (AT_MOV_TYPE_DESC.DOMAIN = ('MOVE_TYPE')) AND (AT_OFF_PROF_DET_NAT.OFFENDER_BOOK_ID = AT_OFFENDER_BOOKING.OFFENDER_BOOK_ID) AND (AT_OFF_PROF_DET_NAT.PROFILE_TYPE = ('NAT')) AND (AT_NATIONALITY.PROFILE_TYPE = AT_OFF_PROF_DET_NAT.PROFILE_TYPE AND AT_NATIONALITY.PROFILE_CODE = AT_OFF_PROF_DET_NAT.PROFILE_CODE) AND (AT_NATIONALITY.PROFILE_TYPE = ('NAT')) AND (AT_OFFENDER_CRO.IDENTIFIER_TYPE = 'CRO') AND (AT_OFFENDER_CRO.OFFENDER_ID = AT_OFFENDER_BOOKING.OFFENDER_ID) AND (AT_OFFENDER_PNC.IDENTIFIER_TYPE = 'PNC') AND (AT_OFFENDER_PNC.OFFENDER_ID = AT_OFFENDER_BOOKING.OFFENDER_ID) AND (AT_RELIGION.PROFILE_CODE = AT_OFFENDER_RELIGION.PROFILE_CODE) AND (AT_RELIGION.PROFILE_TYPE = AT_OFFENDER_RELIGION.PROFILE_TYPE) AND (AT_OFFENDER_EXTERNAL_MOVEMENTS.TO_AGY_LOC_ID = AT_EXT_MOV_TO_AGY.AGY_LOC_ID) AND (AT_OFFENDER_EXTERNAL_MOVEMENTS.FROM_AGY_LOC_ID = AT_EXT_MOV_FROM_AGY.AGY_LOC_ID) AND (AT_OFFENDER_EXTERNAL_MOVEMENTS.TO_CITY = AT_TO_CITY_CODES.CODE) AND (AT_TO_CITY_CODES.DOMAIN = 'CITY' OR AT_TO_CITY_CODES.DOMAIN IS NULL) AND (AT_OFFENDER_EXTERNAL_MOVEMENTS.FROM_CITY = AT_FROM_CITY_CODES.CODE) AND (AT_FROM_CITY_CODES.DOMAIN = 'CITY' OR AT_FROM_CITY_CODES.DOMAIN IS NULL) AND (AT_OFFENDER_EXTERNAL_MOVEMENTS.TO_ADDRESS_ID = AT_TO_ADDRESS_ATTENDED.ADDRESS_ID) AND (AT_OFFENDER_EXTERNAL_MOVEMENTS.FROM_ADDRESS_ID = AT_FROM_ADDRESS_ATTENDED.ADDRESS_ID) AND (AT_OFFENDER_EXTERNAL_MOVEMENTS.MOVEMENT_REASON_CODE = 'ECSL' AND TRUNC(AT_OFFENDER_EXTERNAL_MOVEMENTS.MOVEMENT_DATE) BETWEEN TO_DATE('23-10-2023 00:00:00', 'DD-MM-YYYY HH24:MI:SS') AND TO_DATE('23-10-2023 00:00:00', 'DD-MM-YYYY HH24:MI:SS') AND TRUNC(AT_OFFENDER_EXTERNAL_MOVEMENTS.MOVEMENT_DATE) <= TRUNC(CURRENT_TIMESTAMP) AND (AT_OFFENDER_EXTERNAL_MOVEMENTS.FROM_AGY_LOC_ID IN ('All') OR 'All' IN ('All')) AND AT_OFFENDER_EXTERNAL_MOVEMENTS.DIRECTION_CODE = 'OUT')) AND (DPd_.OFFENDER_ID_DISPLAY = AT_OFFENDER.OFFENDER_ID_DISPLAY)), dataset_ AS (SELECT OFFENDER_ID_DISPLAY, LAST_NAME, FIRST_NAME, MOVEMENT_DATE, MOVEMENT_TIME, CODE, FROM_, TO_, COMMENT_TEXT, BIRTH_DATE, BOOKING_NO, IDENTIFIER, PROFILE_CODE, OFFENDER_BOOK_ID, NATIONALITY_CODE, ETHNIC_CODE, CRO_NUMBER, DESCRIPTION, ETHNIC_DESC_, RELIGION_DESCRIPTION, CRD_DATE AS D_CRD, MAIN_OFFENCE.DESCRIPTION AS D_MAIN_OFFENCE, MAIN_OFFENCE.OFFENCE_CODE AS D_MAIN_OFFENCE_CODE, SENTENCE_INFO.EFFECTIVE_SENTENCE_LENGTH AS D_ESL, 'TBD' AS V_ESL_YEARS, 'TBD' AS V_ESL_MONTHS, 'TBD' AS V_ESL_DAYS FROM dataset_base_)",
      "parameters": [],
      "schema": {
        "field": [
          {
            "index": 0,
            "name": "OFFENDER_ID_DISPLAY",
            "type": "string",
            "display": "NOMS Number",
            "legacyId": "DP3.DO44",
            "legacySqlClass": "column"
          },
          {
            "index": 1,
            "name": "LAST_NAME",
            "type": "string",
            "display": "Last Name",
            "legacyId": "DP3.DO45",
            "legacySqlClass": "column"
          },
          {
            "index": 2,
            "name": "FIRST_NAME",
            "type": "string",
            "display": "Given Name 1",
            "legacyId": "DP3.DO1066",
            "legacySqlClass": "column"
          },
          {
            "index": 3,
            "name": "MOVEMENT_DATE",
            "type": "date",
            "display": "Movement Date",
            "legacyId": "DP3.DO837",
            "legacySqlClass": "column"
          },
          {
            "index": 4,
            "name": "MOVEMENT_TIME",
            "type": "date",
            "display": "Movement Time  (external)",
            "legacyId": "DP3.DO59a",
            "legacySqlClass": "column"
          },
          {
            "index": 5,
            "name": "CODE",
            "type": "string",
            "display": "Movement Type Code (external)",
            "legacyId": "DP3.DO8af",
            "legacySqlClass": "column"
          },
          {
            "index": 6,
            "name": "FROM_",
            "type": "string",
            "display": "From",
            "legacyId": "DP3.DOd98",
            "legacySqlClass": "column"
          },
          {
            "index": 7,
            "name": "TO_",
            "type": "string",
            "display": "To",
            "legacyId": "DP3.DOd99",
            "legacySqlClass": "column"
          },
          {
            "index": 8,
            "name": "COMMENT_TEXT",
            "type": "string",
            "display": "Comment Text",
            "legacyId": "DP3.DO835",
            "legacySqlClass": "column"
          },
          {
            "index": 9,
            "name": "BIRTH_DATE",
            "type": "date",
            "display": "Date of Birth",
            "legacyId": "DP3.DO1067",
            "legacySqlClass": "column"
          },
          {
            "index": 10,
            "name": "BOOKING_NO",
            "type": "string",
            "display": "Booking No",
            "legacyId": "DP3.DOc23",
            "legacySqlClass": "column"
          },
          {
            "index": 11,
            "name": "IDENTIFIER",
            "type": "string",
            "display": "PNC ID",
            "legacyId": "DP3.DOb9b",
            "legacySqlClass": "column"
          },
          {
            "index": 12,
            "name": "PROFILE_CODE",
            "type": "string",
            "display": "Religion",
            "legacyId": "DP3.DOb0",
            "legacySqlClass": "column"
          },
          {
            "index": 13,
            "name": "OFFENDER_BOOK_ID",
            "type": "double",
            "display": "Offender Book Id",
            "legacyId": "DP3.DO898",
            "legacySqlClass": "column"
          },
          {
            "index": 14,
            "name": "NATIONALITY_CODE",
            "type": "string",
            "display": "Nationality Code",
            "legacyId": "DP3.DO10d6",
            "legacySqlClass": "column"
          },
          {
            "index": 15,
            "name": "ETHNIC_CODE",
            "type": "string",
            "display": "Ethnic Code",
            "legacyId": "DP3.DO88",
            "legacySqlClass": "column"
          },
          {
            "index": 16,
            "name": "CRO_NUMBER",
            "type": "string",
            "display": "CRO Number",
            "legacyId": "DP3.DOb9c",
            "legacySqlClass": "column"
          },
          {
            "index": 17,
            "name": "DESCRIPTION",
            "type": "string",
            "display": "Nationality",
            "legacyId": "DP3.DOb7e",
            "legacySqlClass": "column"
          },
          {
            "index": 18,
            "name": "ETHNIC_DESC_",
            "type": "string",
            "display": "Ethnic Desc.",
            "legacyId": "DP3.DOc28",
            "legacySqlClass": "column"
          },
          {
            "index": 19,
            "name": "RELIGION_DESCRIPTION",
            "type": "string",
            "display": "Religion Description",
            "legacyId": "DP3.DOc29",
            "legacySqlClass": "column"
          },
          {
            "index": 20,
            "name": "D_CRD",
            "type": "string",
            "display": "D_CRD",
            "legacyId": "???",
            "legacySqlClass": "alias"
          },
          {
            "index": 21,
            "name": "D_MAIN_OFFENCE",
            "type": "string",
            "display": "D_MAIN_OFFENCE",
            "legacyId": "???",
            "legacySqlClass": "alias"
          },
          {
            "index": 22,
            "name": "D_MAIN_OFFENCE_CODE",
            "type": "string",
            "display": "D_MAIN_OFFENCE_CODE",
            "legacyId": "???",
            "legacySqlClass": "alias"
          },
          {
            "index": 23,
            "name": "D_ESL",
            "type": "string",
            "display": "D_ESL",
            "legacyId": "???",
            "legacySqlClass": "alias"
          },
          {
            "index": 24,
            "name": "V_ESL_YEARS",
            "type": "string",
            "display": "V_ESL_YEARS",
            "legacyId": "???",
            "legacySqlClass": "alias"
          },
          {
            "index": 25,
            "name": "V_ESL_MONTHS",
            "type": "string",
            "display": "V_ESL_MONTHS",
            "legacyId": "???",
            "legacySqlClass": "alias"
          },
          {
            "index": 26,
            "name": "V_ESL_DAYS",
            "type": "string",
            "display": "V_ESL_DAYS",
            "legacyId": "???",
            "legacySqlClass": "alias"
          }
        ]
      }
    },
    {
      "id": "3376286/DPd",
      "name": "Sentence Info",
      "description": "OR - Sentence",
      "datasource": "nomis",
      "query": "dataset_base_ AS (SELECT DISTINCT AT_OFFENDER.OFFENDER_ID_DISPLAY, AT_OFFENDER_SENTENCES.SENTENCE_STATUS, AT_OFFENCES.DESCRIPTION, AT_OFFENDER_CHARGES.OFFENCE_CODE, AT_COURT_EVENT_CHARGES.OFFENCE_DATE, AT_OFFENCE_RESULT_CODES.CHARGE_STATUS, CASE WHEN DT_OFFENDER_LIFE_FLAG.LIFE_SENTENCE_FLAG = 'Y' THEN 'Life' ELSE AT_OFFENDER_SENT_CALCULATIONS.EFFECTIVE_SENTENCE_LENGTH END AS EFFECTIVE_SENTENCE_LENGTH, TO_NUMBER(SUBSTR(DT_SENTENCE_LENGTH.EFFECTIVE_SENTENCE_LENGTH, 1, 2)) || '    ' || TO_NUMBER(SUBSTR(DT_SENTENCE_LENGTH.EFFECTIVE_SENTENCE_LENGTH, 4, 2)) || '    ' || TO_NUMBER(SUBSTR(DT_SENTENCE_LENGTH.EFFECTIVE_SENTENCE_LENGTH, 7, 2)) AS SENTENCE_LENGTH_FORMATTED_, CASE WHEN AT_OFFENDER_SENTENCE_TERMS2.LIFE_SENTENCE_FLAG = 'Y' THEN 'Life' ELSE TO_CHAR(AT_OFFENDER_SENTENCE_TERMS2.YEARS) END AS SENTENCE_TERMS_YEARS, AT_OFFENDER_SENTENCES.CONSEC_TO_SENTENCE_SEQ, AT_OFFENDER_SENTENCE_TERMS2.SENTENCE_SEQ, CASE WHEN AT_OFFENDER_SENTENCE_TERMS2.LIFE_SENTENCE_FLAG = 'Y' THEN '' ELSE TO_CHAR(AT_OFFENDER_SENTENCE_TERMS2.MONTHS) END AS SENTENCE_TERMS_MONTHS, CASE WHEN AT_OFFENDER_SENTENCE_TERMS2.LIFE_SENTENCE_FLAG = 'Y' THEN '' ELSE TO_CHAR(AT_OFFENDER_SENTENCE_TERMS2.WEEKS) END AS SENTENCE_TERMS_WEEKS, CASE WHEN AT_OFFENDER_SENTENCE_TERMS2.LIFE_SENTENCE_FLAG = 'Y' THEN '' ELSE TO_CHAR(AT_OFFENDER_SENTENCE_TERMS2.DAYS) END AS SENTENCE_TERMS_DAYS, AT_SENT_ORDERS.COURT_DATE, COALESCE(AT_OFFENDER_SENT_CALCULATIONS.CRD_OVERRIDED_DATE, AT_OFFENDER_SENT_CALCULATIONS.CRD_CALCULATED_DATE) AS CRD_DATE, AT_COURT_EVENT_CHARGES.MOST_SERIOUS_FLAG FROM OMS_OWNER.COURT_EVENTS AT_OFFENDER_COURT_EVENTS, OMS_OWNER.OFFENDER_SENTENCES AT_OFFENDER_SENTENCES, OMS_OWNER.OFFENDERS AT_OFFENDER, OMS_OWNER.OFFENDER_SENT_CALCULATIONS AT_OFFENDER_SENT_CALCULATIONS, OMS_OWNER.OFFENDER_BOOKINGS AT_OFFENDER_BOOKING, OMS_OWNER.OFFENDER_EXTERNAL_MOVEMENTS AT_OFFENDER_EXTERNAL_MOVEMENTS, OMS_OWNER.OFFENCES AT_OFFENCES, OMS_OWNER.OFFENDER_CHARGES AT_OFFENDER_CHARGES, OMS_OWNER.COURT_EVENT_CHARGES AT_COURT_EVENT_CHARGES, OMS_OWNER.OFFENCE_RESULT_CODES AT_OFFENCE_RESULT_CODES, (SELECT DISTINCT OFFENDER_SENTENCE_TERMS.OFFENDER_BOOK_ID, OFFENDER_SENTENCE_TERMS.LIFE_SENTENCE_FLAG FROM OFFENDER_SENTENCE_TERMS WHERE OFFENDER_SENTENCE_TERMS.LIFE_SENTENCE_FLAG = 'Y') DT_OFFENDER_LIFE_FLAG, (SELECT MIN(A_OFFENDER_SENTENCES.START_DATE) AS SSD, COALESCE(A_OFFENDER_SENT_CALCULATIONS.SED_OVERRIDED_DATE, A_OFFENDER_SENT_CALCULATIONS.SED_CALCULATED_DATE) AS SED, A_OFFENDER_SENT_CALCULATIONS.EFFECTIVE_SENTENCE_LENGTH, A_OFFENDER_SENT_CALCULATIONS.OFFENDER_BOOK_ID AS OFFENDER_BOOK_ID FROM OFFENDER_SENTENCES A_OFFENDER_SENTENCES, OFFENDER_SENT_CALCULATIONS A_OFFENDER_SENT_CALCULATIONS WHERE A_OFFENDER_SENT_CALCULATIONS.OFFENDER_BOOK_ID = A_OFFENDER_SENTENCES.OFFENDER_BOOK_ID GROUP BY COALESCE(A_OFFENDER_SENT_CALCULATIONS.SED_OVERRIDED_DATE, A_OFFENDER_SENT_CALCULATIONS.SED_CALCULATED_DATE), EFFECTIVE_SENTENCE_LENGTH, A_OFFENDER_SENT_CALCULATIONS.OFFENDER_BOOK_ID) DT_SENTENCE_LENGTH, OMS_OWNER.OFFENDER_SENTENCE_TERMS AT_OFFENDER_SENTENCE_TERMS2, OMS_OWNER.ORDERS AT_SENT_ORDERS, OMS_OWNER.OFFENDER_CASES AT_OFFENDER_CASES WHERE (AT_COURT_EVENT_CHARGES.EVENT_ID (+) = AT_OFFENDER_COURT_EVENTS.EVENT_ID) AND (AT_OFFENDER_CHARGES.OFFENDER_CHARGE_ID (+) = AT_COURT_EVENT_CHARGES.OFFENDER_CHARGE_ID) AND (AT_OFFENCE_RESULT_CODES.RESULT_CODE (+) = AT_OFFENDER_COURT_EVENTS.OUTCOME_REASON_CODE) AND (AT_OFFENDER_COURT_EVENTS.CASE_ID = AT_OFFENDER_CASES.CASE_ID) AND (AT_OFFENDER_CHARGES.OFFENCE_CODE = AT_OFFENCES.OFFENCE_CODE (+)) AND (AT_OFFENDER.OFFENDER_ID = AT_OFFENDER_BOOKING.OFFENDER_ID) AND (AT_OFFENDER_BOOKING.OFFENDER_BOOK_ID = AT_OFFENDER_EXTERNAL_MOVEMENTS.OFFENDER_BOOK_ID (+)) AND (AT_OFFENDER_BOOKING.OFFENDER_BOOK_ID = AT_OFFENDER_CASES.OFFENDER_BOOK_ID (+)) AND (AT_OFFENDER_BOOKING.OFFENDER_BOOK_ID = AT_OFFENDER_SENT_CALCULATIONS.OFFENDER_BOOK_ID (+)) AND (AT_OFFENDER_SENTENCES.OFFENDER_BOOK_ID (+) = AT_OFFENDER_BOOKING.OFFENDER_BOOK_ID) AND (AT_OFFENDER_BOOKING.OFFENDER_BOOK_ID = DT_SENTENCE_LENGTH.OFFENDER_BOOK_ID (+)) AND (DT_OFFENDER_LIFE_FLAG.OFFENDER_BOOK_ID (+) = AT_OFFENDER_SENT_CALCULATIONS.OFFENDER_BOOK_ID) AND (AT_SENT_ORDERS.ORDER_ID = AT_OFFENDER_SENTENCES.ORDER_ID) AND (AT_OFFENDER_SENTENCE_TERMS2.OFFENDER_BOOK_ID = AT_OFFENDER_SENTENCES.OFFENDER_BOOK_ID) AND (AT_OFFENDER_SENTENCE_TERMS2.SENTENCE_SEQ = AT_OFFENDER_SENTENCES.SENTENCE_SEQ) AND (AT_OFFENDER_SENTENCES.SENTENCE_CATEGORY <> 'LICENCE' AND NOT AT_OFFENDER_SENTENCES.SENTENCE_CALC_TYPE LIKE '%AGG%') AND (AT_OFFENDER_EXTERNAL_MOVEMENTS.MOVEMENT_REASON_CODE = 'ECSL' AND TRUNC(AT_OFFENDER_EXTERNAL_MOVEMENTS.MOVEMENT_DATE) BETWEEN TO_DATE('23-10-2023 00:00:00', 'DD-MM-YYYY HH24:MI:SS') AND TO_DATE('23-10-2023 00:00:00', 'DD-MM-YYYY HH24:MI:SS') AND TRUNC(AT_OFFENDER_EXTERNAL_MOVEMENTS.MOVEMENT_DATE) <= TRUNC(CURRENT_TIMESTAMP) AND (AT_OFFENDER_EXTERNAL_MOVEMENTS.FROM_AGY_LOC_ID IN ('All') OR 'All' IN ('All')) AND AT_OFFENDER_EXTERNAL_MOVEMENTS.DIRECTION_CODE = 'OUT' AND (AT_OFFENDER_SENT_CALCULATIONS.OFFENDER_SENT_CALCULATION_ID = (SELECT MAX(A.OFFENDER_SENT_CALCULATION_ID) FROM OMS_OWNER.OFFENDER_SENT_CALCULATIONS A WHERE AT_OFFENDER_SENT_CALCULATIONS.OFFENDER_BOOK_ID = A.OFFENDER_BOOK_ID)) AND AT_OFFENDER_SENTENCES.SENTENCE_STATUS = 'A' AND AT_OFFENDER_CASES.CASE_STATUS = 'A')), dataset_ AS (SELECT OFFENDER_ID_DISPLAY, SENTENCE_STATUS, DESCRIPTION, OFFENCE_CODE, OFFENCE_DATE, CHARGE_STATUS, EFFECTIVE_SENTENCE_LENGTH, SENTENCE_LENGTH_FORMATTED_, SENTENCE_TERMS_YEARS, CONSEC_TO_SENTENCE_SEQ, SENTENCE_SEQ, SENTENCE_TERMS_MONTHS, SENTENCE_TERMS_WEEKS, SENTENCE_TERMS_DAYS, COURT_DATE, CRD_DATE, MOST_SERIOUS_FLAG, MAX(MOST_SERIOUS_FLAG) AS MAX_MAIN_OFFENCE, 'TBD' AS V_ESL_MONTHS, 'TBD' AS V_ESL_YEARS, 'TBD' AS V_ESL_DAYS FROM dataset_base_)",
      "parameters": [],
      "schema": {
        "field": [
          {
            "index": 0,
            "name": "OFFENDER_ID_DISPLAY",
            "type": "string",
            "display": "NOMS Number",
            "legacyId": "DPd.DO10044",
            "legacySqlClass": "column"
          },
          {
            "index": 1,
            "name": "SENTENCE_STATUS",
            "type": "string",
            "display": "Sentence Status",
            "legacyId": "DPd.DO10a11",
            "legacySqlClass": "column"
          },
          {
            "index": 2,
            "name": "DESCRIPTION",
            "type": "string",
            "display": "Offence Description",
            "legacyId": "DPd.DO974",
            "legacySqlClass": "column"
          },
          {
            "index": 3,
            "name": "OFFENCE_CODE",
            "type": "string",
            "display": "Offence Code",
            "legacyId": "DPd.DO9b6",
            "legacySqlClass": "column"
          },
          {
            "index": 4,
            "name": "OFFENCE_DATE",
            "type": "date",
            "display": "Offence Date",
            "legacyId": "DPd.DO96a",
            "legacySqlClass": "column"
          },
          {
            "index": 5,
            "name": "CHARGE_STATUS",
            "type": "string",
            "display": "Offence Status",
            "legacyId": "DPd.DO989",
            "legacySqlClass": "column"
          },
          {
            "index": 6,
            "name": "EFFECTIVE_SENTENCE_LENGTH",
            "type": "string",
            "display": "Effective Sentence Length",
            "legacyId": "DPd.DO1082f",
            "legacySqlClass": "column"
          },
          {
            "index": 7,
            "name": "SENTENCE_LENGTH_FORMATTED_",
            "type": "string",
            "display": "Sentence Length Formatted (All)",
            "legacyId": "DPd.DO10b89",
            "legacySqlClass": "column"
          },
          {
            "index": 8,
            "name": "SENTENCE_TERMS_YEARS",
            "type": "string",
            "display": "Sentence Terms - Years",
            "legacyId": "DPd.DO110ec",
            "legacySqlClass": "column"
          },
          {
            "index": 9,
            "name": "CONSEC_TO_SENTENCE_SEQ",
            "type": "double",
            "display": "Consec To Sentence Seq",
            "legacyId": "DPd.DO10a12",
            "legacySqlClass": "column"
          },
          {
            "index": 10,
            "name": "SENTENCE_SEQ",
            "type": "double",
            "display": "Sentence Seq",
            "legacyId": "DPd.DO110f0",
            "legacySqlClass": "column"
          },
          {
            "index": 11,
            "name": "SENTENCE_TERMS_MONTHS",
            "type": "string",
            "display": "Sentence Terms - Months",
            "legacyId": "DPd.DO110ed",
            "legacySqlClass": "column"
          },
          {
            "index": 12,
            "name": "SENTENCE_TERMS_WEEKS",
            "type": "string",
            "display": "Sentence Terms - Weeks",
            "legacyId": "DPd.DO11101",
            "legacySqlClass": "column"
          },
          {
            "index": 13,
            "name": "SENTENCE_TERMS_DAYS",
            "type": "string",
            "display": "Sentence Terms - Days",
            "legacyId": "DPd.DO110ee",
            "legacySqlClass": "column"
          },
          {
            "index": 14,
            "name": "COURT_DATE",
            "type": "date",
            "display": "Sentence Date",
            "legacyId": "DPd.DO110e7",
            "legacySqlClass": "column"
          },
          {
            "index": 15,
            "name": "CRD_DATE",
            "type": "date",
            "display": "CRD Date",
            "legacyId": "DPd.DO1046f",
            "legacySqlClass": "column"
          },
          {
            "index": 16,
            "name": "MOST_SERIOUS_FLAG",
            "type": "string",
            "display": "Main Offence Flag",
            "legacyId": "DPd.DO96b",
            "legacySqlClass": "column"
          },
          {
            "index": 17,
            "name": "MAX_MAIN_OFFENCE",
            "type": "string",
            "display": "MAX_MAIN_OFFENCE",
            "legacyId": "???",
            "legacySqlClass": "alias"
          },
          {
            "index": 18,
            "name": "V_ESL_MONTHS",
            "type": "string",
            "display": "V_ESL_MONTHS",
            "legacyId": "???",
            "legacySqlClass": "alias"
          },
          {
            "index": 19,
            "name": "V_ESL_YEARS",
            "type": "string",
            "display": "V_ESL_YEARS",
            "legacyId": "???",
            "legacySqlClass": "alias"
          },
          {
            "index": 20,
            "name": "V_ESL_DAYS",
            "type": "string",
            "display": "V_ESL_DAYS",
            "legacyId": "???",
            "legacySqlClass": "alias"
          }
        ]
      }
    },
    {
      "id": "3376286/DPe",
      "name": "Main Offence",
      "description": "OR - Sentence",
      "datasource": "nomis",
      "query": "dataset_base_ AS (SELECT DISTINCT AT_OFFENDER.OFFENDER_ID_DISPLAY, AT_OFFENDER_SENTENCES.SENTENCE_STATUS, AT_OFFENCES.DESCRIPTION, AT_OFFENDER_CHARGES.OFFENCE_CODE, CASE WHEN DT_OFFENDER_LIFE_FLAG.LIFE_SENTENCE_FLAG = 'Y' THEN 'Life' ELSE AT_OFFENDER_SENT_CALCULATIONS.EFFECTIVE_SENTENCE_LENGTH END AS EFFECTIVE_SENTENCE_LENGTH FROM OMS_OWNER.COURT_EVENTS AT_OFFENDER_COURT_EVENTS, OMS_OWNER.OFFENDER_SENTENCES AT_OFFENDER_SENTENCES, OMS_OWNER.OFFENDERS AT_OFFENDER, OMS_OWNER.OFFENDER_SENT_CALCULATIONS AT_OFFENDER_SENT_CALCULATIONS, OMS_OWNER.OFFENDER_BOOKINGS AT_OFFENDER_BOOKING, OMS_OWNER.OFFENDER_EXTERNAL_MOVEMENTS AT_OFFENDER_EXTERNAL_MOVEMENTS, OMS_OWNER.OFFENCES AT_OFFENCES, OMS_OWNER.OFFENDER_CHARGES AT_OFFENDER_CHARGES, (SELECT DISTINCT OFFENDER_SENTENCE_TERMS.OFFENDER_BOOK_ID, OFFENDER_SENTENCE_TERMS.LIFE_SENTENCE_FLAG FROM OFFENDER_SENTENCE_TERMS WHERE OFFENDER_SENTENCE_TERMS.LIFE_SENTENCE_FLAG = 'Y') DT_OFFENDER_LIFE_FLAG, OMS_OWNER.COURT_EVENT_CHARGES AT_COURT_EVENT_CHARGES, OMS_OWNER.OFFENDER_CASES AT_OFFENDER_CASES WHERE (AT_COURT_EVENT_CHARGES.EVENT_ID (+) = AT_OFFENDER_COURT_EVENTS.EVENT_ID) AND (AT_OFFENDER_CHARGES.OFFENDER_CHARGE_ID (+) = AT_COURT_EVENT_CHARGES.OFFENDER_CHARGE_ID) AND (AT_OFFENDER_COURT_EVENTS.CASE_ID = AT_OFFENDER_CASES.CASE_ID) AND (AT_OFFENDER_CHARGES.OFFENCE_CODE = AT_OFFENCES.OFFENCE_CODE (+)) AND (AT_OFFENDER.OFFENDER_ID = AT_OFFENDER_BOOKING.OFFENDER_ID) AND (AT_OFFENDER_BOOKING.OFFENDER_BOOK_ID = AT_OFFENDER_EXTERNAL_MOVEMENTS.OFFENDER_BOOK_ID (+)) AND (AT_OFFENDER_BOOKING.OFFENDER_BOOK_ID = AT_OFFENDER_CASES.OFFENDER_BOOK_ID (+)) AND (AT_OFFENDER_BOOKING.OFFENDER_BOOK_ID = AT_OFFENDER_SENT_CALCULATIONS.OFFENDER_BOOK_ID (+)) AND (AT_OFFENDER_SENTENCES.OFFENDER_BOOK_ID (+) = AT_OFFENDER_BOOKING.OFFENDER_BOOK_ID) AND (DT_OFFENDER_LIFE_FLAG.OFFENDER_BOOK_ID (+) = AT_OFFENDER_SENT_CALCULATIONS.OFFENDER_BOOK_ID) AND (AT_OFFENDER_EXTERNAL_MOVEMENTS.MOVEMENT_REASON_CODE = 'ECSL' AND TRUNC(AT_OFFENDER_EXTERNAL_MOVEMENTS.MOVEMENT_DATE) BETWEEN TO_DATE('23-10-2023 00:00:00', 'DD-MM-YYYY HH24:MI:SS') AND TO_DATE('23-10-2023 00:00:00', 'DD-MM-YYYY HH24:MI:SS') AND TRUNC(AT_OFFENDER_EXTERNAL_MOVEMENTS.MOVEMENT_DATE) <= TRUNC(CURRENT_TIMESTAMP) AND (AT_OFFENDER_EXTERNAL_MOVEMENTS.FROM_AGY_LOC_ID IN ('All') OR 'All' IN ('All')) AND AT_OFFENDER_EXTERNAL_MOVEMENTS.DIRECTION_CODE = 'OUT' AND AT_COURT_EVENT_CHARGES.MOST_SERIOUS_FLAG = 'Y' AND (AT_OFFENDER_SENT_CALCULATIONS.OFFENDER_SENT_CALCULATION_ID = (SELECT MAX(A.OFFENDER_SENT_CALCULATION_ID) FROM OMS_OWNER.OFFENDER_SENT_CALCULATIONS A WHERE AT_OFFENDER_SENT_CALCULATIONS.OFFENDER_BOOK_ID = A.OFFENDER_BOOK_ID)) AND AT_OFFENDER_SENTENCES.SENTENCE_STATUS = 'A' AND AT_OFFENDER_CASES.CASE_STATUS = 'A')), dataset_ AS (SELECT OFFENDER_ID_DISPLAY, SENTENCE_STATUS, DESCRIPTION, OFFENCE_CODE, EFFECTIVE_SENTENCE_LENGTH FROM dataset_base_)",
      "parameters": [],
      "schema": {
        "field": [
          {
            "index": 0,
            "name": "OFFENDER_ID_DISPLAY",
            "type": "string",
            "display": "NOMS Number",
            "legacyId": "DPe.DO10044",
            "legacySqlClass": "column"
          },
          {
            "index": 1,
            "name": "SENTENCE_STATUS",
            "type": "string",
            "display": "Sentence Status",
            "legacyId": "DPe.DO10a11",
            "legacySqlClass": "column"
          },
          {
            "index": 2,
            "name": "DESCRIPTION",
            "type": "string",
            "display": "Offence Description",
            "legacyId": "DPe.DO974",
            "legacySqlClass": "column"
          },
          {
            "index": 3,
            "name": "OFFENCE_CODE",
            "type": "string",
            "display": "Offence Code",
            "legacyId": "DPe.DO9b6",
            "legacySqlClass": "column"
          },
          {
            "index": 4,
            "name": "EFFECTIVE_SENTENCE_LENGTH",
            "type": "string",
            "display": "Effective Sentence Length",
            "legacyId": "DPe.DO1082f",
            "legacySqlClass": "column"
          }
        ]
      }
    }
  ],
  "policy": [
    {
      "id": "access",
      "type": "access",
      "rule": [
        {
          "effect": "permit",
          "condition": [
            {
              "match": [
                "${role}",
                "ROLE_PRISONS_REPORTING_USER"
              ]
            }
          ]
        }
      ]
    }
  ],
  "report": [
    {
      "id": "168720.RS",
      "name": "By Establishment",
      "classification": "OFFICIAL",
      "version": "1.0.0",
      "render": "HTML",
      "dataset": "3377299/DP3",
      "feature": [
        {
          "type": "print"
        }
      ],
      "specification": {
        "template": "list",
        "field": [
          {
            "name": "$ref:MOVEMENT_DATE",
            "display": "Movement Date",
            "formula": "",
            "visible": "true",
            "sortable": true,
            "defaultsort": false,
            "legacyId": "DP3.DO837"
          },
          {
            "name": "$ref:MOVEMENT_TIME",
            "display": "Movement Time  (external)",
            "formula": "",
            "visible": "true",
            "sortable": true,
            "defaultsort": false,
            "legacyId": "DP3.DO59a"
          },
          {
            "name": "$ref:OFFENDER_ID_DISPLAY",
            "display": "NOMS Number",
            "formula": "",
            "visible": "true",
            "sortable": false,
            "defaultsort": false,
            "legacyId": "DP3.DO44"
          },
          {
            "name": "$ref:LAST_NAME",
            "display": "Last Name",
            "formula": "",
            "visible": "true",
            "sortable": true,
            "defaultsort": false,
            "legacyId": "DP3.DO45"
          },
          {
            "name": "$ref:FROM_",
            "display": "From",
            "formula": "",
            "visible": "true",
            "sortable": true,
            "defaultsort": false,
            "legacyId": "DP3.DOd98"
          },
          {
            "name": "$ref:FIRST_NAME",
            "display": "Given Name 1",
            "formula": "",
            "visible": "true",
            "sortable": true,
            "defaultsort": false,
            "legacyId": "DP3.DO1066"
          },
          {
            "name": "$ref:BIRTH_DATE",
            "display": "Date of Birth",
            "formula": "",
            "visible": "true",
            "sortable": true,
            "defaultsort": false,
            "legacyId": "DP3.DO1067"
          },
          {
            "name": "$ref:BOOKING_NO",
            "display": "Booking No",
            "formula": "",
            "visible": "true",
            "sortable": true,
            "defaultsort": false,
            "legacyId": "DP3.DOc23"
          },
          {
            "name": "$ref:IDENTIFIER",
            "display": "PNC ID",
            "formula": "",
            "visible": "true",
            "sortable": true,
            "defaultsort": false,
            "legacyId": "DP3.DOb9b"
          },
          {
            "name": "$ref:CRO_NUMBER",
            "display": "CRO Number",
            "formula": "",
            "visible": "true",
            "sortable": true,
            "defaultsort": false,
            "legacyId": "DP3.DOb9c"
          },
          {
            "name": "$ref:D_CRD",
            "display": "CRD",
            "formula": "",
            "visible": "true",
            "sortable": false,
            "defaultsort": false,
            "legacySql": "=[CRD Date]"
          },
          {
            "name": "$ref:ETHNIC_DESC_",
            "display": "Ethnic Desc.",
            "formula": "",
            "visible": "true",
            "sortable": true,
            "defaultsort": false,
            "legacyId": "DP3.DOc28"
          },
          {
            "name": "$ref:DESCRIPTION",
            "display": "Nationality",
            "formula": "",
            "visible": "true",
            "sortable": true,
            "defaultsort": false,
            "legacyId": "DP3.DOb7e"
          },
          {
            "name": "$ref:RELIGION_DESCRIPTION",
            "display": "Religion Description",
            "formula": "",
            "visible": "true",
            "sortable": true,
            "defaultsort": false,
            "legacyId": "DP3.DOc29"
          },
          {
            "name": "$ref:D_MAIN_OFFENCE",
            "display": "Main Offence",
            "formula": "",
            "visible": "true",
            "sortable": false,
            "defaultsort": false,
            "legacySql": "=[Main Offence].[Offence Description]"
          },
          {
            "name": "$ref:D_MAIN_OFFENCE_CODE",
            "display": "Offence Code",
            "formula": "",
            "visible": "true",
            "sortable": false,
            "defaultsort": false,
            "legacySql": "=[Main Offence].[Offence Code]"
          },
          {
            "name": "$ref:D_ESL",
            "display": "ESL",
            "formula": "",
            "visible": "true",
            "sortable": false,
            "defaultsort": false,
            "legacySql": "=[Sentence Info].[Effective Sentence Length]"
          },
          {
            "name": "$ref:V_ESL_YEARS",
            "display": "Y",
            "formula": "",
            "visible": "true",
            "sortable": false,
            "defaultsort": false,
            "legacySql": "=Substr([Sentence Info].[Effective Sentence Length];1;2)"
          },
          {
            "name": "$ref:V_ESL_MONTHS",
            "display": "M",
            "formula": "",
            "visible": "true",
            "sortable": false,
            "defaultsort": false,
            "legacySql": "=Substr([Sentence Info].[Effective Sentence Length];4;2)"
          },
          {
            "name": "$ref:V_ESL_DAYS",
            "display": "D",
            "formula": "",
            "visible": "true",
            "sortable": false,
            "defaultsort": false,
            "legacySql": "=Substr([Sentence Info].[Effective Sentence Length];7;2)"
          }
        ]
      }
    },
    {
      "id": "169134.RS",
      "name": "By Offence",
      "classification": "OFFICIAL",
      "version": "1.0.0",
      "render": "HTML",
      "dataset": "3376286/DPd",
      "filter": {
        "name": "prefilter_",
        "query": "prefilter_ AS (SELECT * FROM dataset_)"
      },
      "feature": [
        {
          "type": "print"
        }
      ],
      "specification": {
        "template": "list",
        "field": [
          {
            "name": "$ref:DESCRIPTION",
            "display": "Offence Description",
            "formula": "",
            "visible": "true",
            "sortable": true,
            "defaultsort": false,
            "legacyId": "DPd.DO974"
          },
          {
            "name": "$ref:OFFENCE_CODE",
            "display": "Offence Code",
            "formula": "",
            "visible": "true",
            "sortable": true,
            "defaultsort": false,
            "legacyId": "DPd.DO9b6"
          },
          {
            "name": "$ref:MAX_MAIN_OFFENCE",
            "display": "Main Offence",
            "formula": "",
            "visible": "true",
            "sortable": false,
            "defaultsort": false,
            "legacySql": "=Max([Main Offence Flag])"
          },
          {
            "name": "$ref:EFFECTIVE_SENTENCE_LENGTH",
            "display": "Effective Sentence Length",
            "formula": "",
            "visible": "true",
            "sortable": true,
            "defaultsort": false,
            "legacyId": "DPd.DO1082f"
          },
          {
            "name": "$ref:SENTENCE_TERMS_DAYS",
            "display": "Sentence Terms - Days",
            "formula": "",
            "visible": "true",
            "sortable": true,
            "defaultsort": false,
            "legacyId": "DPd.DO110ee"
          },
          {
            "name": "$ref:SENTENCE_TERMS_MONTHS",
            "display": "Sentence Terms - Months",
            "formula": "",
            "visible": "true",
            "sortable": true,
            "defaultsort": false,
            "legacyId": "DPd.DO110ed"
          },
          {
            "name": "$ref:SENTENCE_TERMS_WEEKS",
            "display": "Sentence Terms - Weeks",
            "formula": "",
            "visible": "true",
            "sortable": true,
            "defaultsort": false,
            "legacyId": "DPd.DO11101"
          },
          {
            "name": "$ref:SENTENCE_TERMS_YEARS",
            "display": "Sentence Terms - Years",
            "formula": "",
            "visible": "true",
            "sortable": true,
            "defaultsort": false,
            "legacyId": "DPd.DO110ec"
          },
          {
            "name": "$ref:CONSEC_TO_SENTENCE_SEQ",
            "display": "Consec To Sentence Seq",
            "formula": "",
            "visible": "true",
            "sortable": true,
            "defaultsort": false,
            "legacyId": "DPd.DO10a12"
          },
          {
            "name": "$ref:SENTENCE_SEQ",
            "display": "Sentence Seq",
            "formula": "",
            "visible": "true",
            "sortable": true,
            "defaultsort": false,
            "legacyId": "DPd.DO110f0"
          },
          {
            "name": "$ref:CRD_DATE",
            "display": "CRD Date",
            "formula": "",
            "visible": "true",
            "sortable": true,
            "defaultsort": false,
            "legacyId": "DPd.DO1046f"
          },
          {
            "name": "$ref:V_ESL_MONTHS",
            "display": "M",
            "formula": "",
            "visible": "true",
            "sortable": false,
            "defaultsort": false,
            "legacySql": "=Substr([Sentence Info].[Effective Sentence Length];4;2)"
          },
          {
            "name": "$ref:V_ESL_YEARS",
            "display": "Y",
            "formula": "",
            "visible": "true",
            "sortable": false,
            "defaultsort": false,
            "legacySql": "=Substr([Sentence Info].[Effective Sentence Length];1;2)"
          },
          {
            "name": "$ref:V_ESL_DAYS",
            "display": "D",
            "formula": "",
            "visible": "true",
            "sortable": false,
            "defaultsort": false,
            "legacySql": "=Substr([Sentence Info].[Effective Sentence Length];7;2)"
          }
        ]
      }
    }
  ],
  "errors": [
    {
      "type": "enhanced",
      "error": "dataset::resolveCTEs parse error for : $ref:V_ESL_YEARS :: Error: =Substr([Sentence Info].[Effective Sentence Length];1;2) ==> Error: Expected expression but \"=\" found.\n at undefined:1:1",
      "entityId": "Fg6Y6AG9rQgAVB8eAACXMoD.ACJIAGc1",
      "entityType": "dpd"
    },
    {
      "type": "enhanced",
      "error": "dataset::resolveCTEs parse error for : $ref:V_ESL_MONTHS :: Error: =Substr([Sentence Info].[Effective Sentence Length];4;2) ==> Error: Expected expression but \"=\" found.\n at undefined:1:1",
      "entityId": "Fg6Y6AG9rQgAVB8eAACXMoD.ACJIAGc1",
      "entityType": "dpd"
    },
    {
      "type": "enhanced",
      "error": "dataset::resolveCTEs parse error for : $ref:V_ESL_DAYS :: Error: =Substr([Sentence Info].[Effective Sentence Length];7;2) ==> Error: Expected expression but \"=\" found.\n at undefined:1:1",
      "entityId": "Fg6Y6AG9rQgAVB8eAACXMoD.ACJIAGc1",
      "entityType": "dpd"
    },
    {
      "type": "enhanced",
      "error": "dataset::injectCalculations parse error for : $ref:V_ESL_YEARS :: Error: =Substr([Sentence Info].[Effective Sentence Length];1;2) ==> Error: Expected expression but \"=\" found.\n at undefined:1:1",
      "entityId": "Fg6Y6AG9rQgAVB8eAACXMoD.ACJIAGc1",
      "entityType": "dpd"
    },
    {
      "type": "enhanced",
      "error": "dataset::injectCalculations parse error for : $ref:V_ESL_MONTHS :: Error: =Substr([Sentence Info].[Effective Sentence Length];4;2) ==> Error: Expected expression but \"=\" found.\n at undefined:1:1",
      "entityId": "Fg6Y6AG9rQgAVB8eAACXMoD.ACJIAGc1",
      "entityType": "dpd"
    },
    {
      "type": "enhanced",
      "error": "dataset::injectCalculations parse error for : $ref:V_ESL_DAYS :: Error: =Substr([Sentence Info].[Effective Sentence Length];7;2) ==> Error: Expected expression but \"=\" found.\n at undefined:1:1",
      "entityId": "Fg6Y6AG9rQgAVB8eAACXMoD.ACJIAGc1",
      "entityType": "dpd"
    },
    {
      "type": "enhanced",
      "error": "dataset::resolveCTEs parse error for : $ref:V_ESL_MONTHS :: Error: =Substr([Sentence Info].[Effective Sentence Length];4;2) ==> Error: Expected expression but \"=\" found.\n at undefined:1:1",
      "entityId": "Fg6Y6AG9rQgAVB8eAACXMoD.ACJIAGc1",
      "entityType": "dpd"
    },
    {
      "type": "enhanced",
      "error": "dataset::resolveCTEs parse error for : $ref:V_ESL_YEARS :: Error: =Substr([Sentence Info].[Effective Sentence Length];1;2) ==> Error: Expected expression but \"=\" found.\n at undefined:1:1",
      "entityId": "Fg6Y6AG9rQgAVB8eAACXMoD.ACJIAGc1",
      "entityType": "dpd"
    },
    {
      "type": "enhanced",
      "error": "dataset::resolveCTEs parse error for : $ref:V_ESL_DAYS :: Error: =Substr([Sentence Info].[Effective Sentence Length];7;2) ==> Error: Expected expression but \"=\" found.\n at undefined:1:1",
      "entityId": "Fg6Y6AG9rQgAVB8eAACXMoD.ACJIAGc1",
      "entityType": "dpd"
    },
    {
      "type": "enhanced",
      "error": "dataset::injectCalculations parse error for : $ref:V_ESL_MONTHS :: Error: =Substr([Sentence Info].[Effective Sentence Length];4;2) ==> Error: Expected expression but \"=\" found.\n at undefined:1:1",
      "entityId": "Fg6Y6AG9rQgAVB8eAACXMoD.ACJIAGc1",
      "entityType": "dpd"
    },
    {
      "type": "enhanced",
      "error": "dataset::injectCalculations parse error for : $ref:V_ESL_YEARS :: Error: =Substr([Sentence Info].[Effective Sentence Length];1;2) ==> Error: Expected expression but \"=\" found.\n at undefined:1:1",
      "entityId": "Fg6Y6AG9rQgAVB8eAACXMoD.ACJIAGc1",
      "entityType": "dpd"
    },
    {
      "type": "enhanced",
      "error": "dataset::injectCalculations parse error for : $ref:V_ESL_DAYS :: Error: =Substr([Sentence Info].[Effective Sentence Length];7;2) ==> Error: Expected expression but \"=\" found.\n at undefined:1:1",
      "entityId": "Fg6Y6AG9rQgAVB8eAACXMoD.ACJIAGc1",
      "entityType": "dpd"
    },
    {
      "type": "sqlQuery",
      "error": "Error: ORA-00904: \"SENTENCE_INFO\".\"EFFECTIVE_SENTENCE_LENGTH\": invalid identifier\nHelp: https://docs.oracle.com/error-help/db/ora-00904/",
      "entityId": "3377299/DP3",
      "entityType": "dataset"
    }
  ]
}