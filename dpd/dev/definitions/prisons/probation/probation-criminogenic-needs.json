{
  "id": "1234124124",
  "name": "Criminogenic Needs Exemplar",
  "description": "Criminogenic Needs Exemplar data product",
  "metadata": {
    "version": "1.0.0",
    "tags": ["MOV0028 v00.00.02 DPR"]
  },
  "datasource": [
    {
      "id": "ndmis",
      "name": "nomis",
      "database": "probation",
      "catalog": "dps_testing2",
      "connection": "federated",
      "dialect": "postgres/19"
    }
  ],
  "dataset": [
    {
      "id": "3377299/DP3",
      "name": "Criminogenic Needs Exemplar",
      "description": "Criminogenic Needs",
      "datasource": "probation",
      "query": "select * from probation.criminogenic_needs",
      "parameters": [],
      "schema": {
        "field": [
          {
            "index": 0,
            "name": "offender_pk",
            "type": "int",
            "display": "offender pk",
            "legacySqlClass": "column"
          },
          {
            "index": 1,
            "name": "case_index_number",
            "type": "string",
            "display": "case index number",
            "legacySqlClass": "column"
          },
          {
            "index": 2,
            "name": "ldu_supervising_team",
            "type": "string",
            "display": "ldu supervising team",
            "legacySqlClass": "column"
          },
          {
            "index": 3,
            "name": "pnc",
            "type": "string",
            "display": "pnc",
            "legacySqlClass": "column"
          },
          {
            "index": 4,
            "name": "crn",
            "type": "string",
            "display": "crn",
            "legacySqlClass": "column"
          },
          {
            "index": 5,
            "name": "crn",
            "type": "string",
            "display": "crn",
            "legacySqlClass": "column"
          },
          {
            "index": 6,
            "name": "first_name",
            "type": "string",
            "display": "first name",
            "legacySqlClass": "column"
          },
          {
            "index": 7,
            "name": "family_name",
            "type": "string",
            "display": "family name",
            "legacySqlClass": "column"
          },
          {
            "index": 8,
            "name": "date_of_birth",
            "type": "date",
            "display": "date of birth",
            "legacySqlClass": "column"
          },
          {
            "index": 9,
            "name": "gender",
            "type": "string",
            "display": "gender",
            "legacySqlClass": "column"
          },
          {
            "index": 10,
            "name": "ethnic_category",
            "type": "string",
            "display": "ethnic category",
            "legacySqlClass": "column"
          },
          {
            "index": 11,
            "name": "supervising_officer_current",
            "type": "string",
            "display": "supervising officer current",
            "legacySqlClass": "column"
          },
          {
            "index": 12,
            "name": "supervisor_team",
            "type": "string",
            "display": "supervisor team",
            "legacySqlClass": "column"
          },
          {
            "index": 13,
            "name": "accommodation_need_score",
            "type": "int",
            "display": "accommodation need score",
            "legacySqlClass": "column"
          },
          {
            "index": 14,
            "name": "ete_need_score",
            "type": "int",
            "display": "ete need score",
            "legacySqlClass": "column"
          },
          {
            "index": 15,
            "name": "finance_need_score",
            "type": "int",
            "display": "finance need score",
            "legacySqlClass": "column"
          },
          {
            "index": 16,
            "name": "relationships_need_score",
            "type": "int",
            "display": "relationships need score",
            "legacySqlClass": "column"
          },
          {
            "index": 17,
            "name": "lifestyle_need_score",
            "type": "int",
            "display": "lifestyle need score",
            "legacySqlClass": "column"
          },
          {
            "index": 18,
            "name": "drugs_need_score",
            "type": "int",
            "display": "drugs need score",
            "legacySqlClass": "column"
          },
          {
            "index": 19,
            "name": "alcohol_need_score",
            "type": "int",
            "display": "alcohol need score",
            "legacySqlClass": "column"
          },
          {
            "index": 20,
            "name": "emotional_wellbeing_need_score",
            "type": "int",
            "display": "emotional wellbeing need score",
            "legacySqlClass": "column"
          },
          {
            "index": 21,
            "name": "thinking_behaviour_need_score",
            "type": "int",
            "display": "thinking behaviour need score",
            "legacySqlClass": "column"
          },
          {
            "index": 22,
            "name": "attitudes_need_score",
            "type": "int",
            "display": "attitudes need score",
            "legacySqlClass": "column"
          },
          {
            "index": 23,
            "name": "number_of_criminogenic_needs",
            "type": "int",
            "display": "number of criminogenic needs",
            "legacySqlClass": "column"
          }
        ]
      }
    }
  ],
  "policy": [
    {
      "id": "access",
      "type": "access",
      "rule": [
        {
          "effect": "permit",
          "condition": [
            {
              "match": ["${role}", "ROLE_PRISONS_REPORTING_USER"]
            }
          ]
        }
      ]
    }
  ],
  "report": [
    {
      "id": "157447.RS",
      "name": "Criminogenic Needs",
      "classification": "OFFICIAL",
      "version": "1.0.0",
      "render": "HTML",
      "dataset": "3377299/DP3",
      "feature": [
        {
          "type": "print"
        }
      ],
      "specification": {
        "template": "list",
        "field": [
          {
            "name": "$ref:offender_pk",
            "display": "CN No.",
            "formula": "",
            "visible": "true",
            "sortable": true,
            "defaultsort": true
          },
          {
            "name": "$ref:case_index_number",
            "display": "Case index number",
            "formula": "",
            "visible": "true",
            "sortable": true,
            "defaultsort": true
          },
          {
            "name": "$ref:ldu_supervising_team",
            "display": "LDU supervising team",
            "formula": "",
            "visible": "true",
            "sortable": true,
            "defaultsort": true
          },
          {
            "name": "$ref:pnc",
            "display": "PNC",
            "formula": "",
            "visible": "true",
            "sortable": true,
            "defaultsort": false
          },
          {
            "name": "$ref:crn",
            "display": "CRN",
            "formula": "",
            "visible": "true",
            "sortable": true,
            "defaultsort": false
          },
          {
            "name": "$ref:first_name",
            "display": "First name",
            "formula": "",
            "visible": "true",
            "sortable": true,
            "defaultsort": true
          },
          {
            "name": "$ref:family_name",
            "display": "Family name",
            "formula": "",
            "visible": "true",
            "sortable": true,
            "defaultsort": true
          },
          {
            "name": "$ref:date_of_birth",
            "display": "Date of birth",
            "formula": "",
            "visible": "true",
            "sortable": true,
            "defaultsort": false
          },
          {
            "name": "$ref:gender",
            "display": "Gender",
            "formula": "",
            "visible": "true",
            "sortable": true,
            "defaultsort": false
          },
          {
            "name": "$ref:ethnic_category",
            "display": "Ethnic category",
            "formula": "",
            "visible": "true",
            "sortable": true,
            "defaultsort": true
          },
          {
            "name": "$ref:supervising_officer_current",
            "display": "Supervising officer current",
            "formula": "",
            "visible": "true",
            "sortable": true,
            "defaultsort": true
          },
          {
            "name": "$ref:supervisor_team",
            "display": "Supervisor team",
            "formula": "",
            "visible": "true",
            "sortable": true,
            "defaultsort": false
          },
          {
            "name": "$ref:accommodation_need_score",
            "display": "Accommodation need score",
            "formula": "",
            "visible": "true",
            "sortable": true,
            "defaultsort": false
          },
          {
            "name": "$ref:ete_need_score",
            "display": "Ete need score",
            "formula": "",
            "visible": "true",
            "sortable": true,
            "defaultsort": true
          },
          {
            "name": "$ref:finance_need_score",
            "display": "Finance need score",
            "formula": "",
            "visible": "true",
            "sortable": true,
            "defaultsort": true
          },
          {
            "name": "$ref:relationships_need_score",
            "display": "Relationships need score",
            "formula": "",
            "visible": "true",
            "sortable": true,
            "defaultsort": false
          },
          {
            "name": "$ref:lifestyle_need_score",
            "display": "Lifestyle need score",
            "formula": "",
            "visible": "true",
            "sortable": true,
            "defaultsort": false
          },
          {
            "name": "$ref:drugs_need_score",
            "display": "Drugs need score",
            "formula": "",
            "visible": "true",
            "sortable": true,
            "defaultsort": true
          },
          {
            "name": "$ref:alcohol_need_score",
            "display": "Alcohol need score",
            "formula": "",
            "visible": "true",
            "sortable": true,
            "defaultsort": true
          },
          {
            "name": "$ref:emotional_wellbeing_need_score",
            "display": "Emotional wellbeing need score",
            "formula": "",
            "visible": "true",
            "sortable": true,
            "defaultsort": false
          },
          {
            "name": "$ref:thinking_behaviour_need_score",
            "display": "Thinking behaviour need score",
            "formula": "",
            "visible": "true",
            "sortable": true,
            "defaultsort": false
          },
          {
            "name": "$ref:attitudes_need_score",
            "display": "Attitudes need score",
            "formula": "",
            "visible": "true",
            "sortable": true,
            "defaultsort": false
          },
          {
            "name": "$ref:number_of_criminogenic_needs",
            "display": "Number of criminogenic needs",
            "formula": "",
            "visible": "true",
            "sortable": true,
            "defaultsort": false
          }
        ]
      }
    }
  ]
}
